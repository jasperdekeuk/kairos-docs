"use strict";(globalThis.webpackChunkkairos_docs=globalThis.webpackChunkkairos_docs||[]).push([[6171],{20338:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Reference/kairos-factory","title":"The Kairos Factory","description":"Converting any base image into a Kairos ready image","source":"@site/versioned_docs/version-3.6.0/Reference/kairos-factory.md","sourceDirName":"Reference","slug":"/Reference/kairos-factory","permalink":"/docs/3.6.0/Reference/kairos-factory","draft":false,"unlisted":false,"editUrl":"https://github.com/kairos-io/kairos-docs/tree/main/versioned_docs/version-3.6.0/Reference/kairos-factory.md","tags":[],"version":"3.6.0","lastUpdatedBy":"Jasper De Keukelaere (imec)","lastUpdatedAt":1765142882000,"sidebarPosition":4,"frontMatter":{"title":"The Kairos Factory","sidebar_label":"The Kairos Factory","sidebar_position":4,"description":"Converting any base image into a Kairos ready image"},"sidebar":"tutorialSidebar","previous":{"title":"Stage modules","permalink":"/docs/3.6.0/Reference/stage_modules"},"next":{"title":"Reset","permalink":"/docs/3.6.0/Reference/reset"}}');var t=n(74848),r=n(28453);const a={title:"The Kairos Factory",sidebar_label:"The Kairos Factory",sidebar_position:4,description:"Converting any base image into a Kairos ready image"},o=void 0,l={},d=[{value:"The Kairos Factory Process",id:"the-kairos-factory-process",level:2},{value:"What is Kairos-init?",id:"what-is-kairos-init",level:2},{value:"How to use",id:"how-to-use",level:2},{value:"Why the Version Matters",id:"why-the-version-matters",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Phases",id:"phases",level:2},{value:"Skipping steps and stages",id:"skipping-steps-and-stages",level:2},{value:"Extending stages with custom actions",id:"extending-stages-with-custom-actions",level:2},{value:"Validation",id:"validation",level:2},{value:"Building RHEL images",id:"building-rhel-images",level:2},{value:"Examples",id:"examples",level:2},{value:"Build rpi4 k3s oci artifacts (arm64 platform)",id:"build-rpi4-k3s-oci-artifacts-arm64-platform",level:3},{value:"Add a specific kernel to ubuntu 24.04 (amd64 platform)",id:"add-a-specific-kernel-to-ubuntu-2404-amd64-platform",level:3},{value:"Build Trusted Boot images (core and standard)",id:"build-trusted-boot-images-core-and-standard",level:2},{value:"GitHub Actions Integration",id:"github-actions-integration",level:2},{value:"What is the Kairos Factory Action?",id:"what-is-the-kairos-factory-action",level:3},{value:"Basic Usage Example",id:"basic-usage-example",level:3},{value:"Key Features",id:"key-features",level:3},{value:"Web UI",id:"web-ui",level:2},{value:"Factory API",id:"factory-api",level:2}];function c(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.admonition,{title:"Ongoing Project",type:"warning",children:[(0,t.jsx)(i.p,{children:"The Kairos factory is an ongoing project. Things might change, and we are working on improving the documentation and the process. If you encounter any issues, please feel free to open up issues and help us improve the Documentation!"}),(0,t.jsxs)(i.p,{children:["For further info check out ",(0,t.jsx)(i.a,{href:"https://github.com/kairos-io/kairos/issues/1914",children:"#1914"})]})]}),"\n",(0,t.jsx)(i.p,{children:"Kairos is not just an OS, it's also a way to turn an existing OS into a Kairos-ready image. This process is called \"Kairosification\" and it's done by the Kairos Factory."}),"\n",(0,t.jsx)(i.p,{children:"For the newcomer or someone who simply needs an immutable OS with k3s and edgeVPN, the Kairos OS is the way to go. As long as this components work, you don't need to worry about the changes in the underlying OS. However, if you need to ensure certain packages are present or remain stable in your system, you can use the Kairos Factory to convert your base image into a Kairos-ready image. This is particularly useful if you have special firmware requirements, or if you want to have your own release cadence."}),"\n",(0,t.jsx)(i.admonition,{title:"Requirements",type:"info",children:(0,t.jsxs)(i.p,{children:["In order to run the Kairos Factory, you will need docker installed on your system. You can find the installation instructions ",(0,t.jsx)(i.a,{href:"https://docs.docker.com/get-docker/",children:"here"}),"."]})}),"\n",(0,t.jsx)(i.h2,{id:"the-kairos-factory-process",children:"The Kairos Factory Process"}),"\n",(0,t.jsxs)(i.p,{children:["The Kairos factory is a single step process applied on a container image. All you need to do is run ",(0,t.jsx)(i.a,{href:"https://github.com/kairos-io/kairos-init",children:"kairos-init"})," in your Dockerfile. Optionally, you can use ",(0,t.jsx)(i.a,{href:"auroraboot",children:"auroraboot.md"})," to generate artifacts (isos, raw images, etc..) based on the generated OCI artifact."]}),"\n",(0,t.jsx)(i.h2,{id:"what-is-kairos-init",children:"What is Kairos-init?"}),"\n",(0,t.jsx)(i.p,{children:"kairos-init is a tool designed to facilitate the initialization and customization of Kairos-based images.\nThe primary purpose of kairos-init is to convert an existing base image into a Kairos-ready image."}),"\n",(0,t.jsx)(i.p,{children:"kairos-init should be available to plug into your existing dockerfile and would allow you to only use docker to generate valid Kairos compatible artifacts"}),"\n",(0,t.jsxs)(i.admonition,{title:"Platforms",type:"warning",children:[(0,t.jsxs)(i.p,{children:["Note that as we are using standard docker tools, the platform to build for is provided by docker, either by the default value or by the ",(0,t.jsx)(i.code,{children:"--platform"})," setting when building images. The platform to build the Kairos OCI artifacts is based on that, so running it under an arm64 platform will build and arm64 Kairos artifact."]}),(0,t.jsxs)(i.p,{children:["See the ",(0,t.jsx)(i.a,{href:"https://docs.docker.com/build/building/multi-platform/",children:"docker multi-platform docs"})," for more info."]})]}),"\n",(0,t.jsx)(i.h2,{id:"how-to-use",children:"How to use"}),"\n",(0,t.jsx)(i.p,{children:"Create a single Dockerfile:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-Dockerfile",children:'FROM quay.io/kairos/kairos-init:latest AS kairos-init\n\nFROM ubuntu:24.04\nARG VERSION=1.0.0\nRUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init --version "${VERSION}"\n'})}),"\n",(0,t.jsxs)(i.p,{children:["The only required argument for kairos-init is the version, which will be set under the ",(0,t.jsx)(i.code,{children:"/etc/kairos-release"})," values to track the artifacts version so you can upgrade to those and track changes."]}),"\n",(0,t.jsx)(i.p,{children:"Then you can just build it like any other Dockerfile ever:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:'$ docker build -t ubuntu-kairos:24.04 .\n[+] Building 69.9s (10/10) FINISHED                                                      docker:default\n => [internal] load build definition from Dockerfile                                               0.0s\n => => transferring dockerfile: 240B                                                               0.0s\n => [internal] load metadata for docker.io/library/ubuntu:24.04                                    0.0s\n => [internal] load metadata for quay.io/kairos/kairos-init:v0.5.0                                 0.4s\n => [internal] load .dockerignore                                                                  0.0s\n => => transferring context: 2B                                                                    0.0s\n => CACHED [kairos-init 1/1] FROM quay.io/kairos/kairos-init:v0.5.0@sha256:8d6a0000b6dfcf905eceeb  0.0s\n => [stage-1 1/4] FROM docker.io/library/ubuntu:24.04                                              0.0s\n => CACHED [stage-1 2/4] COPY --from=kairos-init /kairos-init /kairos-init                         0.0s\n => [stage-1 3/4] RUN /kairos-init --version "1.0.0"                                              66.7s\n => [stage-1 4/4] RUN rm /kairos-init                                                              0.1s\n => exporting to image                                                                             2.6s \n => => exporting layers                                                                            2.6s \n => => writing image sha256:78d8ba90a19bfa472438f207002a0ba2178917ab4c5190c3b2146f1964bac6dc       0.0s \n => => naming to docker.io/library/ubuntu-kairos:24.04                                             0.0s \n'})}),"\n",(0,t.jsxs)(i.p,{children:["That will give you a nice local image tagged ",(0,t.jsx)(i.code,{children:"ubuntu-kairos:24.04"})," that can be feed to ",(0,t.jsx)(i.a,{href:"auroraboot",children:"auroraboot.md"})," to generate an ISO, Trusted Boot artifacts or Cloud Images."]}),"\n",(0,t.jsx)(i.p,{children:"For example:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"$ docker run --rm -v /var/run/docker.sock:/var/run/docker.sock -v $PWD/build/:/output \\\n  quay.io/kairos/auroraboot:latest build-iso --output /output/ docker:ubuntu-kairos:24.04\n2025-02-27T13:33:42Z INF Copying ubuntu-kairos:24.04 source to /output/temp-rootfs\n2025-02-27T13:33:47Z INF Finished copying ubuntu-kairos:24.04 into /output/temp-rootfs\n2025-02-27T13:33:47Z INF Preparing squashfs root...\n2025-02-27T13:33:47Z INF Copying /output/temp-rootfs source to /tmp/auroraboot-iso220411365/rootfs\n2025-02-27T13:33:47Z INF Starting rsync...\n2025-02-27T13:33:49Z INF Finished syncing\n2025-02-27T13:33:49Z INF Finished copying /output/temp-rootfs into /tmp/auroraboot-iso220411365/rootfs\n2025-02-27T13:33:49Z INF Preparing ISO image root tree...\n2025-02-27T13:33:49Z INF Copying /tmp/geniso2408076146 source to /tmp/auroraboot-iso220411365/iso\n2025-02-27T13:33:49Z INF Starting rsync...\n2025-02-27T13:33:49Z INF Finished syncing\n2025-02-27T13:33:49Z INF Finished copying /tmp/geniso2408076146 into /tmp/auroraboot-iso220411365/iso\n2025-02-27T13:33:49Z INF Creating EFI image...\n2025-02-27T13:33:49Z INF Detected Flavor: ubuntu\n2025-02-27T13:33:49Z INF Ubuntu based ISO detected, copying grub.cfg to /EFI/ubuntu/grub.cfg\n2025-02-27T13:33:49Z INF Creating file system image /tmp/auroraboot-iso220411365/iso/boot/uefi.img with size 4Mb\n2025-02-27T13:33:49Z INF Creating squashfs...\n2025-02-27T13:33:53Z INF Creating ISO image...\n$ ls build      \nconfig.yaml  kairos.iso  kairos.iso.sha256  netboot  temp-rootfs\n"})}),"\n",(0,t.jsx)(i.admonition,{title:"Bind mount the binary instead of copying?",type:"warning",children:(0,t.jsxs)(i.p,{children:["As you will see over the examples, we do not copy the kairos-init binary into the image, but rather we bind mount it from the kairos-init image. This is in order to save space due to how docker works with layers and caching. If you want to copy the binary instead, you can use the ",(0,t.jsx)(i.code,{children:"COPY --from=kairos-init /kairos-init /kairos-init"})," command instead of the ",(0,t.jsx)(i.code,{children:"RUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init"})," command, the output will be the same but the end image will be a bit larger."]})}),"\n",(0,t.jsx)(i.h2,{id:"why-the-version-matters",children:"Why the Version Matters"}),"\n",(0,t.jsx)(i.p,{children:"When using kairos-init, the --version argument you set isn't just cosmetic \u2014 it defines the version metadata for the image you're building. This version is embedded into /etc/kairos-release inside the image, and it becomes critical for:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Upgrade management: Kairos upgrade tooling checks versions to decide when and how to upgrade systems safely."}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Tracking changes: It helps users, automation, and debugging processes know exactly what version of a system they are running."}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Compatibility validation: Different components, like trusted boot artifacts or upgrade servers, rely on accurate versioning to operate properly."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.admonition,{title:"Important!",type:"warning",children:(0,t.jsx)(i.p,{children:"Kairos Factory prepares base artifacts. It's the responsibility of the derivative project or user (you!) to define and manage the versioning of your images. The only requirement is that versions must follow Semantic Versioning (semver.org) conventions to ensure upgrades and compatibility checks work predictably."})}),"\n",(0,t.jsx)(i.p,{children:"Different users may adopt different strategies:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"A project building nightly or weekly Kairos images might automatically bump the patch or minor version each time, pulling in the latest OS package updates and security fixes."}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Another team might maintain stable, long-lived releases, only issuing a new version every six months after extensive testing, validation, and certification."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Both are perfectly valid.\nWhat matters is that you track and manage your own version history, ensuring each new artifact has a clear and correct version that reflects its expected upgrade and compatibility behavior."}),"\n",(0,t.jsx)(i.p,{children:"If you don't set a meaningful version when running kairos-init, you risk confusing upgrade flows, making troubleshooting harder, and potentially breaking compatibility guarantees for users and automated systems."}),"\n",(0,t.jsx)(i.admonition,{title:"Kairos releases",type:"info",children:(0,t.jsx)(i.p,{children:'Kairos releases its own artifacts with our own cadence, as we are also consumers of kairos-init. We use the same recommendations as above for our own "vanilla" Kairos releases.'})}),"\n",(0,t.jsx)(i.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(i.p,{children:"kairos-init can generate both core and standard images, and standard images can be bundled with either k3s or k0s and any version of the software that you want."}),"\n",(0,t.jsxs)(i.p,{children:["It can also prepare OCI artifacts for ",(0,t.jsx)(i.a,{href:"../Architecture/trustedboot",children:"Trusted Boot"})," which are slimmer than the usual ones, as they have size limitations plus we dont want to ship things like grub or dracut in them as they are useless."]}),"\n",(0,t.jsx)(i.p,{children:"Here is a list of flags, explanation and what are the possible and default values"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Flag"}),(0,t.jsx)(i.th,{children:"Explanation"}),(0,t.jsx)(i.th,{children:"Possible values"}),(0,t.jsx)(i.th,{children:"Default value"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"-v"}),(0,t.jsx)(i.td,{children:"Set version of the artifact that we are building"}),(0,t.jsx)(i.td,{children:"Any"}),(0,t.jsx)(i.td,{children:"None (REQUIRED)"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"-l"}),(0,t.jsx)(i.td,{children:"Sets the log level"}),(0,t.jsx)(i.td,{children:"info,warn,debug,trace"}),(0,t.jsx)(i.td,{children:"info"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"-s"}),(0,t.jsx)(i.td,{children:"Sets the stage to run"}),(0,t.jsx)(i.td,{children:"install, init, all"}),(0,t.jsx)(i.td,{children:"all"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"-m"}),(0,t.jsx)(i.td,{children:"Sets the model"}),(0,t.jsx)(i.td,{children:"generic, rpi3, rpi4"}),(0,t.jsx)(i.td,{children:"generic"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"-k"}),(0,t.jsx)(i.td,{children:"Sets the Kubernetes provider"}),(0,t.jsx)(i.td,{children:"k3s,k0s"}),(0,t.jsx)(i.td,{children:"None"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"--k8sversion"}),(0,t.jsx)(i.td,{children:"Set the Kubernetes version to use for the given provider"}),(0,t.jsx)(i.td,{children:"Any valid provider version"}),(0,t.jsx)(i.td,{children:"Latest"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"-t"}),(0,t.jsx)(i.td,{children:"Sets Trusted Boot on"}),(0,t.jsx)(i.td,{children:"true,false"}),(0,t.jsx)(i.td,{children:"false"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"--fips"}),(0,t.jsx)(i.td,{children:"Use FIPS framework for FIPS 140-2 compliance images"}),(0,t.jsx)(i.td,{children:"bool"}),(0,t.jsx)(i.td,{children:"false"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"-x"}),(0,t.jsx)(i.td,{children:"Enable the loading of stage extensions"}),(0,t.jsx)(i.td,{children:"bool"}),(0,t.jsx)(i.td,{children:"false"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"--skip-steps"}),(0,t.jsx)(i.td,{children:"Skip the given steps during the image build"}),(0,t.jsx)(i.td,{children:"Steps or Stages"}),(0,t.jsx)(i.td,{children:"None"})]})]})]}),"\n",(0,t.jsx)(i.p,{children:"You can provide a generic Dockerfile that gets all this values and passes them down into kairos-init like we do under Kairos:"}),"\n",(0,t.jsxs)(i.p,{children:["See the ",(0,t.jsx)(i.a,{href:"https://raw.githubusercontent.com/kairos-io/kairos/refs/heads/master/images/Dockerfile",children:"Kairos Dockerfile"})," for the full implementation."]}),"\n",(0,t.jsx)(i.admonition,{title:"K8s versions",type:"info",children:(0,t.jsxs)(i.p,{children:["When selecting a k8s provider, the produced image will contain the latest published version of that provider and the Kairos provider for kubernetes.\nIf you want to override the version installed see the flag ",(0,t.jsx)(i.code,{children:"--k8sversion"})]})}),"\n",(0,t.jsx)(i.h2,{id:"phases",children:"Phases"}),"\n",(0,t.jsx)(i.p,{children:"kairos-init is divided in 2 phases, one its the install phase which install all needed packages and binaries and the other is the init phase, which gets the system ready. This are the main parts of each phase:"}),"\n",(0,t.jsx)(i.p,{children:"Install:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Install required packages via system package manager"}),"\n",(0,t.jsx)(i.li,{children:"Install the kernel"}),"\n",(0,t.jsx)(i.li,{children:"Install the Kairos binaries, like the agent or immucore"}),"\n",(0,t.jsx)(i.li,{children:"Install the Kairos configurations, like oem yip configs, initrd configs, etc.."}),"\n",(0,t.jsx)(i.li,{children:"Install the Kairos' provider, including a k8s distribution and tools if requested"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Init:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Fill the /etc/kairos-release data (needed for upgrades, grub booting, kernel cmdline, etc...)"}),"\n",(0,t.jsx)(i.li,{children:"Remove Old kernel links and duplicates"}),"\n",(0,t.jsxs)(i.li,{children:["Get and link kernel to ",(0,t.jsx)(i.code,{children:"/boot/vmlinuz"})]}),"\n",(0,t.jsx)(i.li,{children:"Remove all existing initrds"}),"\n",(0,t.jsxs)(i.li,{children:["Build a new initrd and link it to ",(0,t.jsx)(i.code,{children:"/boot/initrd"})]}),"\n",(0,t.jsx)(i.li,{children:"Enable/disable needed services"}),"\n",(0,t.jsx)(i.li,{children:"Run some workarounds (grub vs grub2 naming for example)"}),"\n",(0,t.jsx)(i.li,{children:"Run system cleanup to avoid leftovers"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"As you can see, both of these stages runs separately so you can hijack this in the middle and add or remove things."}),"\n",(0,t.jsx)(i.p,{children:"For example, it's possible to add extra modules to be added to the initrd, or a specific kernel instead of the default latest one.\nExtra services can be either added or made required, etc.."}),"\n",(0,t.jsx)(i.p,{children:"The separation it's also very useful for caching, as once the install phase has been cached by docker we can modify the following steps to fix any issues before the init phase is run, without removing the cache. This is particularly useful under cross platform builds where speed can take a big impact depending on your setup."}),"\n",(0,t.jsx)(i.h2,{id:"skipping-steps-and-stages",children:"Skipping steps and stages"}),"\n",(0,t.jsxs)(i.p,{children:["We recognize that one size does not fit all, and sometimes you may want to skip certain steps or stages during the image build process. To accommodate this, kairos-init provides the ",(0,t.jsx)(i.code,{children:"--skip-steps"})," flag."]}),"\n",(0,t.jsxs)(i.p,{children:["This is useful if you want to customize the image yourself and find that some steps collide with your customization. You can choose between ",(0,t.jsx)(i.code,{children:"install"})," and ",(0,t.jsx)(i.code,{children:"init"})," to skip those full stages or go into specific steps."]}),"\n",(0,t.jsxs)(i.p,{children:["Run ",(0,t.jsx)(i.code,{children:"kairos-init steps-info"})," to see the available steps and their descriptions. You can pass more than one step, separated by comma, to skip multiple steps, for example: ",(0,t.jsx)(i.code,{children:"--skip-steps installPackages,kernel"}),"."]}),"\n",(0,t.jsxs)(i.p,{children:["This is an example output of the stages and steps available. We recommend you run ",(0,t.jsx)(i.code,{children:"kairos-init steps-info"})," to see the updated list of steps and stages available, as this is subject to change:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-dockerfile",children:"FROM quay.io/kairos/kairos-init:latest AS kairos-init\n\nFROM ubuntu:24.04\nRUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init steps-info\n"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:'2025-07-07T09:53:05Z INF [7] Starting kairos-init version 59628ad\n2025-07-07T09:53:05Z INF [7] Step name & Description\n2025-07-07T09:53:05Z INF [7] --------------------------------------------------------\n2025-07-07T09:53:05Z INF [7] "branding": applies the branding for the system\n2025-07-07T09:53:05Z INF [7] "cleanup": cleans up the system of unneeded packages and files\n2025-07-07T09:53:05Z INF [7] "cloudconfigs": installs the cloud-configs for the system\n2025-07-07T09:53:05Z INF [7] "grub": configures the grub bootloader\n2025-07-07T09:53:05Z INF [7] "init": The full init stage, which includes kairosRelease, kubernetes, initrd, services, workarounds and cleanup steps\n2025-07-07T09:53:05Z INF [7] "initramfsConfigs": configures the initramfs for the system\n2025-07-07T09:53:05Z INF [7] "initrd": generates the initrd\n2025-07-07T09:53:05Z INF [7] "install": The full install stage, which includes installPackages, kubernetes, cloudconfigs, branding, grub, services, kairosBinaries, providerBinaries, initramfsConfigs and miscellaneous steps\n2025-07-07T09:53:05Z INF [7] "installKernel": installs the kernel packages\n2025-07-07T09:53:05Z INF [7] "installPackages": installs the base system packages\n2025-07-07T09:53:05Z INF [7] "kairosBinaries": installs the kairos binaries\n2025-07-07T09:53:05Z INF [7] "kairosRelease": creates and fills the /etc/kairos-release file\n2025-07-07T09:53:05Z INF [7] "kernel": installs the kernel\n2025-07-07T09:53:05Z INF [7] "kubernetes": installs the kubernetes provider\n2025-07-07T09:53:05Z INF [7] "miscellaneous": applies miscellaneous configurations\n2025-07-07T09:53:05Z INF [7] "providerBinaries": installs the kairos provider binaries for k8s\n2025-07-07T09:53:05Z INF [7] "services": creates and enables required services\n2025-07-07T09:53:05Z INF [7] "workarounds": applies workarounds for known issues\n'})}),"\n",(0,t.jsx)(i.h2,{id:"extending-stages-with-custom-actions",children:"Extending stages with custom actions"}),"\n",(0,t.jsx)(i.p,{children:"This allows to load stage extensions from a dir in the filesystem to expand the default stages with custom logic."}),"\n",(0,t.jsxs)(i.p,{children:["You can enable this feature by using the ",(0,t.jsx)(i.code,{children:"-x"})," flag"]}),"\n",(0,t.jsx)(i.p,{children:"The structure is as follows:"}),"\n",(0,t.jsxs)(i.p,{children:["We got a base dir which is ",(0,t.jsx)(i.code,{children:"/etc/kairos-init/stage-extensions"})," (this is the default, but you can override it using the ",(0,t.jsx)(i.code,{children:"KAIROS_INIT_STAGE_EXTENSIONS_DIR"})," env var)"]}),"\n",(0,t.jsxs)(i.p,{children:["You can drop your custom ",(0,t.jsx)(i.a,{href:"https://github.com/mudler/yip",children:"yip files"})," and as usual, they will be loaded and executed in lexicographic order."]}),"\n",(0,t.jsx)(i.p,{children:"So for example, if we have:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"/etc/kairos-init/stage-extensions/10-foo.yaml"}),"\n",(0,t.jsx)(i.li,{children:"/etc/kairos-init/stage-extensions/20-bar.yaml"}),"\n",(0,t.jsx)(i.li,{children:"/etc/kairos-init/stage-extensions/30-baz.yaml"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"The files will be loaded in the following order:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"10-foo.yaml"}),"\n",(0,t.jsx)(i.li,{children:"20-bar.yaml"}),"\n",(0,t.jsx)(i.li,{children:"30-baz.yaml"}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["The files are loaded using the yip library, so you can use all the features of ",(0,t.jsx)(i.a,{href:"https://github.com/mudler/yip",children:"yip"})," to expand the stages."]}),"\n",(0,t.jsx)(i.p,{children:"The current stages available are:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"before-install: Good for adding extra repos and such."}),"\n",(0,t.jsx)(i.li,{children:"install: Good for installing packages and such."}),"\n",(0,t.jsx)(i.li,{children:"after-install: Do some cleanup of packages, add extra packages, add different kernels and remove the kairos default one, etc."}),"\n",(0,t.jsx)(i.li,{children:"before-init: Good for adding some dracut modules for example to be added to the initramfs."}),"\n",(0,t.jsx)(i.li,{children:"init: Anything that configures the system, security hardening for example."}),"\n",(0,t.jsx)(i.li,{children:"after-init: Good for rebuilding the initramfs, or adding a different initramfs like a kdump one, add grub configs or branding, etc."}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"So for example, if we were to add an extra repo for zfs and install the package we could do the following:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.code,{children:"/etc/kairos-init/stage-extensions/10-zfs.yaml"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-yaml",children:'stages:\n  after-install:\n    - files:\n        - path: /etc/apt/sources.list.d/zfs.list\n          permissions: 0644\n          owner: 0\n          group: 0\n          content: |\n            deb http://deb.debian.org/debian bookworm-backports main contrib\n            deb-src http://deb.debian.org/debian bookworm-backports main contrib\n    - packages:\n        install:\n          - "zfs-dkms"\n          - "zfsutils-linux"\n        refresh: true\n'})}),"\n",(0,t.jsxs)(i.p,{children:["This would run the ",(0,t.jsx)(i.code,{children:"before-install"})," and ",(0,t.jsx)(i.code,{children:"install"})," stages as normal, but then on the ",(0,t.jsx)(i.code,{children:"after-install"})," stage it would add the zfs repo and install the zfs packages."]}),"\n",(0,t.jsx)(i.h2,{id:"validation",children:"Validation"}),"\n",(0,t.jsxs)(i.p,{children:["You can validate the image you built using the ",(0,t.jsx)(i.code,{children:"kairos-init validate"})," command inside the image. This will check if the image is valid and if it has all the necessary components to run Kairos."]}),"\n",(0,t.jsx)(i.h2,{id:"building-rhel-images",children:"Building RHEL images"}),"\n",(0,t.jsxs)(i.p,{children:["Before running ",(0,t.jsx)(i.code,{children:"kairos-init"}),", you need to register the system with the subscription manager and attach a subscription to it. You can do this by modifying the Dockerfile to register the system before running ",(0,t.jsx)(i.code,{children:"kairos-init"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-Dockerfile",children:"FROM quay.io/kairos/kairos-init:latest AS kairos-init\n\nFROM redhat/ubi9\nRUN subscription-manager register --username <your-username> --password <your-password>\nRUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init\n"})}),"\n",(0,t.jsx)(i.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsxs)(i.p,{children:["All the examples are using the ",(0,t.jsx)(i.a,{href:"https://github.com/kairos-io/kairos/blob/master/images/Dockerfile",children:"kairos default dockerfile"})," as the base Dockerfile and its reproduced below:"]}),"\n",(0,t.jsxs)(i.p,{children:["See the ",(0,t.jsx)(i.a,{href:"https://raw.githubusercontent.com/kairos-io/kairos/refs/heads/master/images/Dockerfile",children:"Kairos Dockerfile"})," for the full implementation."]}),"\n",(0,t.jsxs)(i.p,{children:["You can see more examples in the ",(0,t.jsx)(i.a,{href:"https://github.com/kairos-io/kairos/tree/master/examples",children:"Kairos repo"}),"."]}),"\n",(0,t.jsx)(i.h3,{id:"build-rpi4-k3s-oci-artifacts-arm64-platform",children:"Build rpi4 k3s oci artifacts (arm64 platform)"}),"\n",(0,t.jsx)(i.p,{children:"Based on Alpine 3.19:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"$ docker build --platform=linux/arm64 -t alpine-rpi:3.19 --build-arg MODEL=rpi4 --build-arg BASE_IMAGE=alpine:3.19 --build-arg VERSION=v1.0.0 .\n"})}),"\n",(0,t.jsx)(i.p,{children:"Based on Ubuntu 22.04:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"$ docker build --platform=linux/arm64 -t ubuntu-rpi:22.04 --build-arg MODEL=rpi4 --build-arg BASE_IMAGE=ubuntu:22.04 --build-arg VERSION=v1.0.0 .\n"})}),"\n",(0,t.jsx)(i.h3,{id:"add-a-specific-kernel-to-ubuntu-2404-amd64-platform",children:"Add a specific kernel to ubuntu 24.04 (amd64 platform)"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-Dockerfile",children:'FROM quay.io/kairos/kairos-init:latest AS kairos-init\n\nFROM ubuntu:24.04\nRUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init -l debug -s install --version "v0.0.1" --skip-steps installKernel\n# Install Smaller virtual kernel, useful for testing things in VMS\nRUN apt-get install -y linux-image-virtual\n# Run the init phase as normal, it will find the new kernel and link it + generate initrd\nRUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init -l debug -s init --version "v0.0.1"\n'})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:'$ docker build -t ubuntu-kairos-virtual:24.04 .\n[+] Building 106.1s (13/13) FINISHED                                                     docker:default\n => [internal] load build definition from Dockerfile                                               0.0s\n => => transferring dockerfile: 629B                                                               0.0s\n => [internal] load metadata for docker.io/library/ubuntu:24.04                                    0.0s\n => [internal] load metadata for quay.io/kairos/kairos-init:v0.5.0                                 0.2s\n => [internal] load .dockerignore                                                                  0.0s\n => => transferring context: 2B                                                                    0.0s\n => CACHED [kairos-init 1/1] FROM quay.io/kairos/kairos-init:v0.5.0@sha256:8d6a0000b6dfcf905eceeb  0.0s\n => [stage-1 1/7] FROM docker.io/library/ubuntu:24.04                                              0.0s\n => CACHED [stage-1 2/7] COPY --from=kairos-init /kairos-init /kairos-init                         0.0s\n => [stage-1 3/7] RUN /kairos-init -l debug -s install --version "v0.0.1"                         74.8s\n => [stage-1 4/7] RUN apt-get remove -y linux-base linux-image-generic-hwe-24.04 && apt-get autor  2.3s \n => [stage-1 5/7] RUN apt-get install -y linux-image-virtual                                       8.3s \n => [stage-1 6/7] RUN /kairos-init -l debug -s init --version "v0.0.1"                            17.9s \n => [stage-1 7/7] RUN rm /kairos-init                                                              0.1s \n => exporting to image                                                                             2.6s \n => => exporting layers                                                                            2.6s \n => => writing image sha256:94a792dad87629860094820860d68e8d0587bd758d537835d9c5ae7c476af71c       0.0s \n => => naming to docker.io/library/ubuntu-kairos-virtual:24.04\n'})}),"\n",(0,t.jsx)(i.h2,{id:"build-trusted-boot-images-core-and-standard",children:"Build Trusted Boot images (core and standard)"}),"\n",(0,t.jsx)(i.p,{children:"Core:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:'$ docker build -t ubuntu-kairos-trusted-core:24.04 --build-arg BASE_IMAGE=ubuntu:24.04 --build-arg TRUSTED_BOOT=true --build-arg VERSION=v1.0.0 .\n[+] Building 64.0s (12/12) FINISHED                                                      docker:default\n => [internal] load build definition from Dockerfile                                               0.0s\n => => transferring dockerfile: 717B                                                               0.0s\n => [internal] load metadata for docker.io/library/ubuntu:24.04                                    0.0s\n => [internal] load metadata for quay.io/kairos/kairos-init:v0.5.0                                 0.6s\n => [internal] load .dockerignore                                                                  0.0s\n => => transferring context: 2B                                                                    0.0s\n => CACHED [kairos-init 1/1] FROM quay.io/kairos/kairos-init:v0.5.0@sha256:8d6a0000b6dfcf905eceeb  0.0s\n => [base-kairos 1/6] FROM docker.io/library/ubuntu:24.04                                          0.0s\n => CACHED [base-kairos 2/6] COPY --from=kairos-init /kairos-init /kairos-init                     0.0s\n => [base-kairos 3/6] RUN /kairos-init -l debug -s install -m "generic" -t "true" -k "${KUBERNET  58.3s\n => [base-kairos 4/6] RUN /kairos-init -l debug -s init -m "generic" -t "true" -k "${KUBERNETES_D  2.5s \n => [base-kairos 5/6] RUN /kairos-init validate -t "true"                                          0.2s \n => [base-kairos 6/6] RUN rm /kairos-init                                                          0.1s \n => exporting to image                                                                             2.3s \n => => exporting layers                                                                            2.3s \n => => writing image sha256:5ca83ab1eaa4b16210e243f6f9b30e7721e2be0d55b47ae4bd178939e5a44d0f       0.0s \n => => naming to docker.io/library/ubuntu-kairos-trusted-core:24.04                                0.0s\n'})}),"\n",(0,t.jsx)(i.p,{children:"Standard, default latest k3s:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:'$ docker build -t ubuntu-kairos-trusted-standard:24.04 --build-arg BASE_IMAGE=ubuntu:24.04 --build-arg TRUSTED_BOOT=true --build-arg VERSION=v1.0.0 --build-arg KUBERNETES_DISTRO=k3s .\n[+] Building 51.4s (12/12) FINISHED                                                      docker:default\n => [internal] load build definition from Dockerfile                                               0.0s\n => => transferring dockerfile: 717B                                                               0.0s\n => [internal] load metadata for docker.io/library/ubuntu:24.04                                    0.0s\n => [internal] load metadata for quay.io/kairos/kairos-init:v0.5.0                                 0.4s\n => [internal] load .dockerignore                                                                  0.0s\n => => transferring context: 2B                                                                    0.0s\n => CACHED [kairos-init 1/1] FROM quay.io/kairos/kairos-init:v0.5.0@sha256:8d6a0000b6dfcf905eceeb  0.0s\n => [base-kairos 1/6] FROM docker.io/library/ubuntu:24.04                                          0.0s\n => CACHED [base-kairos 2/6] COPY --from=kairos-init /kairos-init /kairos-init                     0.0s\n => [base-kairos 3/6] RUN /kairos-init -l debug -s install -m "generic" -t "true" -k "k3s" --k8s  45.0s\n => [base-kairos 4/6] RUN /kairos-init -l debug -s init -m "generic" -t "true" -k "k3s" --k8svers  3.1s \n => [base-kairos 5/6] RUN /kairos-init validate -t "true"                                          0.2s \n => [base-kairos 6/6] RUN rm /kairos-init                                                          0.1s \n => exporting to image                                                                             2.5s \n => => exporting layers                                                                            2.5s \n => => writing image sha256:019237bde8a0a8b5cccf328c86aa2e4090525dadc4037ab6397272454dfd5e55       0.0s \n => => naming to docker.io/library/ubuntu-kairos-trusted-standard:24.04                            0.0s\n'})}),"\n",(0,t.jsx)(i.p,{children:"Now lets build a Trusted Boot ISO from the standard image:\nNote that for Trusted Boot builds we need to pass the keys dir, please refer to Trusted Boot docs for more info about this."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"$ docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \\\n  -v $PWD/e2e/assets/keys:/keys \\\n  -v $PWD/build/:/output \\\n  quay.io/kairos/auroraboot:latest build-uki --output-dir /output/ -k /keys --output-type iso \\\n  docker:ubuntu-kairos-trusted-standard:24.04                       \n2025-02-27T14:54:41Z INF Extracting image to a temporary directory\n2025-02-27T14:54:41Z INF Copying ubuntu-kairos-trusted-standard:24.04 source to /tmp/auroraboot-build-uki-1771870410\n2025-02-27T14:54:44Z INF Finished copying ubuntu-kairos-trusted-standard:24.04 into /tmp/auroraboot-build-uki-1771870410\n2025-02-27T14:54:44Z INF Creating additional directories in the rootfs\n2025-02-27T14:54:44Z INF Copying kernel\n2025-02-27T14:54:44Z INF Creating an initramfs file\n`2025-02-27T14:55:09Z INF Running ukify for cmdline: Kairos: console=ttyS0 console=tty1 net.ifnames=1 rd.immucore.oemlabel=COS_OEM rd.immucore.oemtimeout=2 rd.immucore.uki selinux=0 panic=5 rd.shell=0 systemd.crash_reboot=yes install-mode\n2025-02-27T14:55:09Z INF Generating: norole.efi\n2025-02-27T14:55:12Z INF Creating kairos and loader conf files\n2025-02-27T14:55:12Z INF Calculating the size of the img file\n2025-02-27T14:55:12Z INF Creating the img file with size: 434Mb\n2025-02-27T14:55:13Z INF Created image: /tmp/auroraboot-iso-dir-805355778/efiboot.img\n2025-02-27T14:55:13Z INF Creating directories in the img file\n2025-02-27T14:55:13Z INF Copying files in the img file\n2025-02-27T14:55:13Z INF Adding files from /tmp/auroraboot-build-uki-1771870410 to iso\n2025-02-27T14:55:13Z INF Copying /tmp/auroraboot-build-uki-1771870410 source to /tmp/auroraboot-iso-dir-805355778\n2025-02-27T14:55:13Z INF Starting rsync...\n2025-02-27T14:55:14Z INF Finished syncing\n2025-02-27T14:55:14Z INF Finished copying /tmp/auroraboot-build-uki-1771870410 into /tmp/auroraboot-iso-dir-805355778\n2025-02-27T14:55:14Z INF Creating the iso files with xorriso\n2025-02-27T14:55:15Z INF Done building iso at: /output/\n"})}),"\n",(0,t.jsx)(i.h2,{id:"github-actions-integration",children:"GitHub Actions Integration"}),"\n",(0,t.jsxs)(i.p,{children:["For users who prefer to automate their Kairos image builds using GitHub Actions, the ",(0,t.jsx)(i.a,{href:"https://github.com/kairos-io/kairos-factory-action",children:"Kairos Factory Action"})," provides a reusable workflow that simplifies the build process."]}),"\n",(0,t.jsx)(i.h3,{id:"what-is-the-kairos-factory-action",children:"What is the Kairos Factory Action?"}),"\n",(0,t.jsx)(i.p,{children:"The Kairos Factory Action is a GitHub Actions reusable workflow that automates the entire Kairos image building process. It handles:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Multi-platform builds"}),": Support for ",(0,t.jsx)(i.code,{children:"amd64"})," and ",(0,t.jsx)(i.code,{children:"arm64"})," architectures"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Multiple base images"}),": Ubuntu, OpenSUSE, and other distributions"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Kubernetes integration"}),": Built-in support for K3s and K0s distributions"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Artifact generation"}),": Create ISO and RAW disk images"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Security scanning"}),": Integrated Grype and Trivy vulnerability scanning"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Digital signing"}),": Cosign integration for artifact signing"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Trusted boot"}),": Support for UKI/USI (Unified Kernel/System Image) builds"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Registry publishing"}),": Push to any container registry"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"basic-usage-example",children:"Basic Usage Example"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-yaml",children:'jobs:\n  build:\n    uses: kairos-io/kairos-factory-action/.github/workflows/reusable-factory.yaml@main\n    with:\n      version: "v1.0.0"\n      base_image: "ubuntu:24.04"\n      model: "generic"\n      kubernetes_distro: "k3s"\n      iso: true\n      summary_artifacts: true\n'})}),"\n",(0,t.jsx)(i.p,{children:"This example builds a Kairos image based on Ubuntu 24.04 with K3s, generates an ISO artifact, and provides a rich build summary with artifact links."}),"\n",(0,t.jsx)(i.h3,{id:"key-features",children:"Key Features"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Flexible versioning"}),": Automatic git-based versioning or manual semver"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Security-focused"}),": Optional vulnerability scanning and digital signing"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Custom naming"}),": Flexible tag and artifact naming formats"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Cloud config support"}),": Integration with cloud-init configurations"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"GitHub integration"}),": Rich build summaries and optional release creation"]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["For complete documentation, configuration options, and advanced examples, visit the ",(0,t.jsx)(i.a,{href:"https://github.com/kairos-io/kairos-factory-action",children:"Kairos Factory Action repository"}),"."]}),"\n",(0,t.jsx)(i.h2,{id:"web-ui",children:"Web UI"}),"\n",(0,t.jsxs)(i.p,{children:["The Kairos Factory is also available as a web UI, which is currently under development but you can already preview since version ",(0,t.jsx)(i.code,{children:"0.6.0"})," of ",(0,t.jsx)(i.a,{href:"auroraboot",children:"AuroraBoot"}),"."]}),"\n",(0,t.jsxs)(i.p,{children:["To use the web UI, you need to run the AuroraBoot with the ",(0,t.jsx)(i.code,{children:"web"})," command:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \\\n           --privileged \\\n           -v $PWD/build/:/output \\\n           -p 8080:8080 \\\n           quay.io/kairos/auroraboot:latest web\n"})}),"\n",(0,t.jsx)(i.p,{children:"If the process is successful, you will see the following output:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"   ____    __\n  / __/___/ /  ___\n / _// __/ _ \\/ _ \\\n/___/\\__/_//_/\\___/ v4.13.3\nHigh performance, minimalist Go web framework\nhttps://echo.labstack.com\n____________________________________O/_______\n                                    O\\\n\u21e8 http server started on [::]:8080\n"})}),"\n",(0,t.jsxs)(i.p,{children:["From there you can access the web UI by visiting ",(0,t.jsx)(i.code,{children:"http://localhost:8080"})," in your browser."]}),"\n",(0,t.jsx)("img",{src:"https://github.com/user-attachments/assets/685e85b4-9559-48c6-973c-221b43883baa",alt:"Kairos Web UI running on localhost:8080",width:"75%"}),"\n",(0,t.jsx)(i.h2,{id:"factory-api",children:"Factory API"}),"\n",(0,t.jsxs)(i.p,{children:["The Kairos Factory exposes a REST API that allows you to programmatically interact with the factory. The API documentation is available through a ",(0,t.jsx)(i.a,{href:"https://github.com/Redocly/redoc",children:"ReDoc"})," page that is served alongside the web UI."]}),"\n",(0,t.jsxs)(i.p,{children:["To access the API documentation, simply visit ",(0,t.jsx)(i.code,{children:"http://localhost:8080/redoc.html"})," in your browser after starting the web server. The ReDoc page provides detailed information about:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Available API endpoints"}),"\n",(0,t.jsx)(i.li,{children:"Request/response formats"}),"\n",(0,t.jsx)(i.li,{children:"Example requests and responses"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"This documentation is automatically generated from the OpenAPI/Swagger specifications and is kept up-to-date with the latest API changes."})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>o});var s=n(96540);const t={},r=s.createContext(t);function a(e){const i=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);