"use strict";(globalThis.webpackChunkkairos_docs=globalThis.webpackChunkkairos_docs||[]).push([[5011],{28453:(e,t,s)=>{s.d(t,{R:()=>n,x:()=>a});var o=s(96540);const r={},i=o.createContext(r);function n(e){const t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:n(e.components),o.createElement(i.Provider,{value:t},e.children)}},45713:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>n,metadata:()=>o,toc:()=>u});const o=JSON.parse('{"id":"Architecture/secureboot","title":"SecureBoot support","description":"Learn how Kairos supports Secure Boot using signed artifacts to ensure system integrity across distributions.","source":"@site/docs/Architecture/secureboot.md","sourceDirName":"Architecture","slug":"/Architecture/secureboot","permalink":"/kairos-docs/docs/next/Architecture/secureboot","draft":false,"unlisted":false,"editUrl":"https://github.com/kairos-io/kairos-docs/tree/main/docs/Architecture/secureboot.md","tags":[],"version":"current","lastUpdatedBy":"Jasper De Keukelaere (imec)","lastUpdatedAt":1765043763000,"sidebarPosition":3,"frontMatter":{"title":"SecureBoot support","sidebar_label":"SecureBoot support","description":"Learn how Kairos supports Secure Boot using signed artifacts to ensure system integrity across distributions.","sidebar_position":3,"date":"2024-01-29T00:00:00.000Z"},"sidebar":"tutorialSidebar","previous":{"title":"Cloud init based","permalink":"/kairos-docs/docs/next/Architecture/cloud-init"},"next":{"title":"Meta-Distribution","permalink":"/kairos-docs/docs/next/Architecture/meta"}}');var r=s(74848),i=s(28453);const n={title:"SecureBoot support",sidebar_label:"SecureBoot support",description:"Learn how Kairos supports Secure Boot using signed artifacts to ensure system integrity across distributions.",sidebar_position:3,date:new Date("2024-01-29T00:00:00.000Z")},a=void 0,c={},u=[{value:"SecureBoot support implementation",id:"secureboot-support-implementation",level:2},{value:"Artifacts used on each distro",id:"artifacts-used-on-each-distro",level:4}];function d(e){const t={h2:"h2",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"secureboot-support-implementation",children:"SecureBoot support implementation"}),"\n",(0,r.jsx)(t.p,{children:"Currently Kairos supports SecureBoot based on the upstream artifacts.\nWe piggyback on the upstream artifacts to be properly signed in order to support SecureBoot."}),"\n",(0,r.jsx)(t.p,{children:"Before this was supported, we shipped a single set of artifacts that were signed by one of the upstream distros.\nThat meant that only that distro was supported under SecureBoot as we needed all artifacts in the chain to be signed with the same key. So that meant that secureboot was only supported on the same distro that we obtained the artifacts from."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Shim (signed by X) -> grub (signed by X) -> kernel (signed by X) = SecureBoot"}),"\n",(0,r.jsxs)(t.li,{children:["Shim (signed by X) -> grub (signed by X) -> ",(0,r.jsx)(t.strong,{children:"kernel (signed by Y)"})," = No SecureBoot"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Now, instead of using a single set of artifacts, we use the upstream artifacts directly, so we can support SecureBoot on all the distros that support it directly with the upstream signatures. This also allows us to pinpoint specific bugs of a given artifact with the upstream report."}),"\n",(0,r.jsx)(t.p,{children:"Any of the current supported flavors in Kairos can be used with SecureBoot out of the box in UEFI mode."}),"\n",(0,r.jsx)(t.p,{children:"Currently Alpine is not supported as it does not provide signed artifacts by default and relies in users generating their own keys to sign those."}),"\n",(0,r.jsx)(t.h4,{id:"artifacts-used-on-each-distro",children:"Artifacts used on each distro"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"shim"}),"\n",(0,r.jsx)(t.li,{children:"grub"}),"\n",(0,r.jsx)(t.li,{children:"kernel"}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);