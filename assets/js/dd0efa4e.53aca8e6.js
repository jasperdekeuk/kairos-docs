"use strict";(globalThis.webpackChunkkairos_docs=globalThis.webpackChunkkairos_docs||[]).push([[3048],{7326:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"Examples/extra_persistent_paths_after_install","title":"Adding persistent paths after install","description":"This section describes examples on how to add persistent paths after install","source":"@site/versioned_docs/version-3.6.0/Examples/extra_persistent_paths_after_install.md","sourceDirName":"Examples","slug":"/Examples/extra_persistent_paths_after_install","permalink":"/docs/3.6.0/Examples/extra_persistent_paths_after_install","draft":false,"unlisted":false,"editUrl":"https://github.com/kairos-io/kairos-docs/tree/main/versioned_docs/version-3.6.0/Examples/extra_persistent_paths_after_install.md","tags":[],"version":"3.6.0","lastUpdatedBy":"Jasper De Keukelaere (imec)","lastUpdatedAt":1765142882000,"frontMatter":{"title":"Adding persistent paths after install","sidebar_label":"Adding persistent paths after install","description":"This section describes examples on how to add persistent paths after install"},"sidebar":"tutorialSidebar","previous":{"title":"Using Kairos Core Images as an Installer","permalink":"/docs/3.6.0/Examples/core"},"next":{"title":"Manual multi-node HA cluster","permalink":"/docs/3.6.0/Examples/ha"}}');var a=s(74848),i=s(28453);const r={title:"Adding persistent paths after install",sidebar_label:"Adding persistent paths after install",description:"This section describes examples on how to add persistent paths after install"},o=void 0,l={},d=[];function c(e){const t={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["Drop a file under ",(0,a.jsx)(t.code,{children:"/oem/91_paths.yaml"})," with the following content:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",children:'stages:\n  rootfs:\n    - name: "Custom mounts"\n      environment_file: /run/cos/cos-layout.env\n      environment:\n        CUSTOM_BIND_MOUNTS: "/var/lib/path1 /var/lib/path2 /var/lib/path3"\n'})}),"\n",(0,a.jsxs)(t.p,{children:["This will indicate to Kairos to bind mount the paths ",(0,a.jsx)(t.code,{children:"/var/lib/path1"}),", ",(0,a.jsx)(t.code,{children:"/var/lib/path2"}),", and ",(0,a.jsx)(t.code,{children:"/var/lib/path3"})," to the persistent partition under ",(0,a.jsx)(t.code,{children:"/usr/local/.state"})," after the next reboot."]}),"\n",(0,a.jsx)(t.admonition,{title:"Note",type:"info",children:(0,a.jsxs)(t.p,{children:["The example mentions ",(0,a.jsx)(t.code,{children:"/oem/91_paths.yaml"}),", but you can use any file name as long as it is under ",(0,a.jsx)(t.code,{children:"/oem/"})," and has a ",(0,a.jsx)(t.code,{children:".yaml"})," extension. The file will be processed by Kairos during the next boot."]})})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>o});var n=s(96540);const a={},i=n.createContext(a);function r(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);