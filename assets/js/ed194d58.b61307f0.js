"use strict";(globalThis.webpackChunkkairos_docs=globalThis.webpackChunkkairos_docs||[]).push([[1165],{11470:(e,i,n)=>{n.d(i,{A:()=>w});var t=n(96540),o=n(34164),a=n(17559),r=n(23104),s=n(56347),l=n(205),d=n(57485),c=n(31682),u=n(70679);function h(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:i}=e;return!!i&&"object"==typeof i&&"value"in i}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:i,children:n}=e;return(0,t.useMemo)(()=>{const e=i??function(e){return h(e).map(({props:{value:e,label:i,attributes:n,default:t}})=>({value:e,label:i,attributes:n,default:t}))}(n);return function(e){const i=(0,c.XI)(e,(e,i)=>e.value===i.value);if(i.length>0)throw new Error(`Docusaurus error: Duplicate values "${i.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[i,n])}function m({value:e,tabValues:i}){return i.some(i=>i.value===e)}function g({queryString:e=!1,groupId:i}){const n=(0,s.W6)(),o=function({queryString:e=!1,groupId:i}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:e,groupId:i});return[(0,d.aZ)(o),(0,t.useCallback)(e=>{if(!o)return;const i=new URLSearchParams(n.location.search);i.set(o,e),n.replace({...n.location,search:i.toString()})},[o,n])]}function f(e){const{defaultValue:i,queryString:n=!1,groupId:o}=e,a=p(e),[r,s]=(0,t.useState)(()=>function({defaultValue:e,tabValues:i}){if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:i}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${i.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=i.find(e=>e.default)??i[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:i,tabValues:a})),[d,c]=g({queryString:n,groupId:o}),[h,f]=function({groupId:e}){const i=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,o]=(0,u.Dv)(i);return[n,(0,t.useCallback)(e=>{i&&o.set(e)},[i,o])]}({groupId:o}),b=(()=>{const e=d??h;return m({value:e,tabValues:a})?e:null})();(0,l.A)(()=>{b&&s(b)},[b]);return{selectedValue:r,selectValue:(0,t.useCallback)(e=>{if(!m({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);s(e),c(e),f(e)},[c,f,a]),tabValues:a}}var b=n(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=n(74848);function y({className:e,block:i,selectedValue:n,selectValue:t,tabValues:a}){const s=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),d=e=>{const i=e.currentTarget,o=s.indexOf(i),r=a[o].value;r!==n&&(l(i),t(r))},c=e=>{let i=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=s.indexOf(e.currentTarget)+1;i=s[n]??s[0];break}case"ArrowLeft":{const n=s.indexOf(e.currentTarget)-1;i=s[n]??s[s.length-1];break}}i?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":i},e),children:a.map(({value:e,label:i,attributes:t})=>(0,v.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{s.push(e)},onKeyDown:c,onClick:d,...t,className:(0,o.A)("tabs__item",x.tabItem,t?.className,{"tabs__item--active":n===e}),children:i??e},e))})}function _({lazy:e,children:i,selectedValue:n}){const a=(Array.isArray(i)?i:[i]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===n);return e?(0,t.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:a.map((e,i)=>(0,t.cloneElement)(e,{key:i,hidden:e.props.value!==n}))})}function j(e){const i=f(e);return(0,v.jsxs)("div",{className:(0,o.A)(a.G.tabs.container,"tabs-container",x.tabList),children:[(0,v.jsx)(y,{...i,...e}),(0,v.jsx)(_,{...i,...e})]})}function w(e){const i=(0,b.A)();return(0,v.jsx)(j,{...e,children:h(e.children)},String(i))}},13126:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"Installation/nvidia_agx_orin","title":"Nvidia AGX Orin","description":"Install Kairos on Nvidia AGX Orin","source":"@site/versioned_docs/version-3.5.7/Installation/nvidia_agx_orin.md","sourceDirName":"Installation","slug":"/Installation/nvidia_agx_orin","permalink":"/docs/3.5.7/Installation/nvidia_agx_orin","draft":false,"unlisted":false,"editUrl":"https://github.com/kairos-io/kairos-docs/tree/main/versioned_docs/version-3.5.7/Installation/nvidia_agx_orin.md","tags":[],"version":"3.5.7","lastUpdatedBy":"Jasper De Keukelaere (imec)","lastUpdatedAt":1765142882000,"sidebarPosition":4,"frontMatter":{"title":"Nvidia AGX Orin","sidebar_label":"Nvidia AGX Orin","sidebar_position":4,"date":"2022-11-13T00:00:00.000Z","description":"Install Kairos on Nvidia AGX Orin"},"sidebar":"tutorialSidebar","previous":{"title":"Installation on Google Cloud","permalink":"/docs/3.5.7/Installation/gce"},"next":{"title":"RaspberryPi","permalink":"/docs/3.5.7/Installation/raspberry"}}');var o=n(74848),a=n(28453),r=n(11470),s=n(19365);const l={title:"Nvidia AGX Orin",sidebar_label:"Nvidia AGX Orin",sidebar_position:4,date:new Date("2022-11-13T00:00:00.000Z"),description:"Install Kairos on Nvidia AGX Orin"},d=void 0,c={},u=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Flashing",id:"flashing",level:2},{value:"Prepare the SDK",id:"prepare-the-sdk",level:3},{value:"Prepare the images",id:"prepare-the-images",level:3},{value:"Edit the parition layout",id:"edit-the-parition-layout",level:3},{value:"Flash",id:"flash",level:3},{value:"Booting",id:"booting",level:3},{value:"Notes",id:"notes",level:2},{value:"USB Timeout error",id:"usb-timeout-error",level:2},{value:"Default configuration",id:"default-configuration",level:3},{value:"Debugging",id:"debugging",level:3},{value:"Flashing port",id:"flashing-port",level:3}];function h(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.admonition,{title:"Warning",type:"warning",children:(0,o.jsx)(i.p,{children:"Despite the Flavor you may have selected to look into the docs. The Nvidia AGX Orin only works with Ubuntu 22.04"})}),"\n",(0,o.jsxs)(i.p,{children:["This page describes how to install Kairos on ",(0,o.jsx)(i.a,{href:"https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-orin/",children:"Nvidia AGX Orin"})," in the eMMC."]}),"\n",(0,o.jsx)(i.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.a,{href:"https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-orin/",children:"Nvidia AGX Orin"})}),"\n",(0,o.jsx)(i.li,{children:"An USB type-C cable"}),"\n",(0,o.jsx)(i.li,{children:"A Linux host used to flash the Nvidia AGX Orin board"}),"\n",(0,o.jsxs)(i.li,{children:["Jetson linux SDK ",(0,o.jsx)(i.a,{href:"https://developer.nvidia.com/embedded/jetson-linux",children:"download"})]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["You can find debugging information here: ",(0,o.jsx)(i.a,{href:"https://developer.ridgerun.com/wiki/index.php/NVIDIA_Jetson_Orin/In_Board/Getting_in_Board/Serial_Console",children:"https://developer.ridgerun.com/wiki/index.php/NVIDIA_Jetson_Orin/In_Board/Getting_in_Board/Serial_Console"})]}),"\n",(0,o.jsx)(i.h2,{id:"flashing",children:"Flashing"}),"\n",(0,o.jsx)(i.p,{children:"We are going to write the partitions in the eMMC. In order to do this we will use the Nvidia SDK configured with a custom partitioning layout."}),"\n",(0,o.jsx)(i.p,{children:"The partitions are:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["OEM for storing cloud config files (",(0,o.jsx)(i.code,{children:"/oem"}),")"]}),"\n",(0,o.jsx)(i.li,{children:"COS_STATE for storing the active/passive images to boot the system"}),"\n",(0,o.jsx)(i.li,{children:"EFI for storing the efi shell and grub to boot the system"}),"\n",(0,o.jsx)(i.li,{children:"RECOVERY - to store the recovery system"}),"\n",(0,o.jsxs)(i.li,{children:["PERSISTENT - this is an optional partition to store the persistent data of the system. you can either write this in the eMMC or, for instance, to an external storage. It is enough to create a partition and label it as ",(0,o.jsx)(i.code,{children:"COS_PERSISTENT"}),". There can be only one partition with such label, the first that matches wins."]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"prepare-the-sdk",children:"Prepare the SDK"}),"\n",(0,o.jsx)(i.p,{children:"The Jetson Linux SDK is used to perform the flashing process."}),"\n",(0,o.jsx)(i.p,{children:"Download the Jetson Linux SDK:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"wget https://developer.nvidia.com/downloads/embedded/l4t/r36_release_v4.3/release/Jetson_Linux_r36.4.3_aarch64.tbz2 -O tegra.bz2\ntar xvf tegra.bz2\n"})}),"\n",(0,o.jsxs)(i.p,{children:["Now, we are going to prepare the rootfs and the bootloader. The Jetson Linux SDK requires the rootfs to generate the ",(0,o.jsx)(i.code,{children:"system.img"})," file and continue the flashing process however, we will not use the image generated by the SDK as we will use a different set of images (see below). Here we also disable extlinux as Kairos uses GRUB:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:'cd Linux_for_Tegra\n# Drop extlinux\necho "" > ./bootloader/extlinux.conf\n# This is needed so the SDK doesn\'t complain of missing files (not really used in the flash process)\nIMAGE=quay.io/kairos/ubuntu:22.04-core-arm64-nvidia-jetson-agx-orin-latest\ndocker run -ti --rm -v $PWD/rootfs:/rootfs quay.io/luet/base util unpack "$IMAGE" /rootfs\n# workaround needed (SDK writes to the symlink)\nrm rootfs/boot/initrd\n# Extlinux is required by the SDK - so we fake it in our root (it will not be there eventually)\nmkdir -p rootfs/boot/extlinux/\necho "" > rootfs/boot/extlinux/extlinux.conf\n'})}),"\n",(0,o.jsx)(i.h3,{id:"prepare-the-images",children:"Prepare the images"}),"\n",(0,o.jsxs)(i.p,{children:["You can find Kairos core ubuntu images based on Ubuntu ",(0,o.jsx)(i.code,{children:"22.04"})," here: ",(0,o.jsx)(i.a,{href:"https://quay.io/repository/kairos/ubuntu",children:"https://quay.io/repository/kairos/ubuntu"}),"\n(search for ",(0,o.jsx)(i.code,{children:"nvidia"})," in the tags)"]}),"\n","\n",(0,o.jsxs)(r.A,{children:[(0,o.jsxs)(s.A,{value:"build-partition-images-from-a-container-image",label:"Build partition images from a container image",children:[(0,o.jsx)(i.p,{children:"If you are customizing the image, or either modifying the default partition sizes you can build the images by running:"}),(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:'IMAGE=quay.io/kairos/ubuntu:22.04-core-arm64-nvidia-jetson-agx-orin-latest\ndocker run --privileged --platform=linux/arm64 \\\n        -e container_image=$IMAGE \\\n        -e STATE_SIZE="25500" \\\n        -e RECOVERY_SIZE="21000" \\\n        -e DEFAULT_ACTIVE_SIZE="7000" \\\n        -v $PWD/bootloader:/bootloader --entrypoint /prepare_nvidia_orin_images.sh -ti --rm quay.io/kairos/auroraboot:latest\n'})})]}),(0,o.jsxs)(s.A,{value:"build-partition-images-from-a-directory",label:"Build partition images from a directory",children:[(0,o.jsx)(i.p,{children:"If you have instead the rootfs as a directory, you can create the required partitions with:"}),(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:'ROOTFS=/rootfs/path\ndocker run --privileged --platform=linux/arm64 \\\n        -e directory=/rootfs \\\n        -e STATE_SIZE="25500" \\\n        -e RECOVERY_SIZE="21000" \\\n        -e DEFAULT_ACTIVE_SIZE="7000" \\\n\t-v $ROOTFS:/rootfs \\\n        -v $PWD/bootloader:/bootloader --entrypoint /prepare_nvidia_orin_images.sh -ti --rm quay.io/kairos/auroraboot:latest\n'})})]})]}),"\n",(0,o.jsxs)(i.p,{children:["After running any of the commands above, the generated images files required for flashing will be inside the ",(0,o.jsx)(i.code,{children:"bootloader"})," directory (",(0,o.jsx)(i.code,{children:"bootloader/efi.img"}),", ",(0,o.jsx)(i.code,{children:"bootloader/recovery_partition.img"}),", ",(0,o.jsx)(i.code,{children:"bootloader/state_partition.img"}),", ",(0,o.jsx)(i.code,{children:"bootloader/oem.img"}),", ",(0,o.jsx)(i.code,{children:"bootloader/persistent.img"})," )."]}),"\n",(0,o.jsxs)(i.admonition,{title:"Note",type:"note",children:[(0,o.jsxs)(i.p,{children:["The persistent image is optional, as you can store the system persistent data rather in an SD card or an NVME disk. The default ",(0,o.jsx)(i.code,{children:"persistent.img"})," is of 2GB size. To create a persistent image manually of the size you prefer instead you can run:"]}),(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:'# Create a 2GB filesystem for COS_PERSISTENT volume\ntruncate -s $((2048*1024*1024)) bootloader/persistent.img\nmkfs.ext2 -L "COS_PERSISTENT" bootloader/persistent.img\n'})}),(0,o.jsx)(i.p,{children:"Note that the size of the partitions you modify should be duly reported in the partition layout (see below)."})]}),"\n",(0,o.jsx)(i.h3,{id:"edit-the-parition-layout",children:"Edit the parition layout"}),"\n",(0,o.jsxs)(i.p,{children:["We are going now to modify the partition layout in ",(0,o.jsx)(i.code,{children:"bootloader/generic/cfg/flash_t234_qspi_sdmmc.xml"})," which corresponds to the partitioning of the AGX Orin board. An example config file can be found in ",(0,o.jsx)(i.a,{href:"https://kairos.io/examples/images/flash_t234_qspi_sdmmc.xml",children:"here"}),". Note that the file might change across Nvidia jetson releases, so if flashing fails, use this file as baseline."]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"wget 'https://kairos.io/examples/images/flash_t234_qspi_sdmmc.xml' -O ./bootloader/generic/cfg/flash_t234_qspi_sdmmc.xml\n"})}),"\n",(0,o.jsxs)(i.p,{children:["If you are editing the partition sizes and generating the images manually, use the example config file as a baseline and edit the ",(0,o.jsx)(i.code,{children:"size"})," accordingly to the corresponding partitions (find the respective ",(0,o.jsx)(i.code,{children:"filename"})," and compare the file size, see the notes below)."]}),"\n",(0,o.jsxs)(i.admonition,{title:"Note on editing the parition layout manually",type:"note",children:[(0,o.jsxs)(i.p,{children:["If you want to use the original file, identify the ",(0,o.jsx)(i.code,{children:"sdmmc_user"})," section ( e.g. ",(0,o.jsx)(i.code,{children:'<device type="sdmmc_user" instance="3" sector_size="512" num_sectors="INT_NUM_SECTORS" >'}),' ), inside there is an "APP" partition ( ',(0,o.jsx)(i.code,{children:'<partition name="APP" id="1" type="data">'})," ), remove it , and add the following instead:"]}),(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'       <partition name="COS_RECOVERY" type="data">\n            <allocation_policy> sequential </allocation_policy>\n            <filesystem_type> basic </filesystem_type>\n            <size> 10485760000 </size>\n            <allocation_attribute>  0x8 </allocation_attribute>\n            <filename> recovery_partition.img </filename>\n            <description>  </description>\n        </partition>\n        <partition name="COS_STATE" type="data">\n            <allocation_policy> sequential </allocation_policy>\n            <filesystem_type> basic </filesystem_type>\n            <size> 14680064000 </size>\n            <allocation_attribute>  0x8 </allocation_attribute>\n            <filename> state_partition.img </filename>\n            <description>  </description>\n        </partition>\n        <partition name="COS_OEM" type="data">\n            <allocation_policy> sequential </allocation_policy>\n            <filesystem_type> basic </filesystem_type>\n            <size> 67108864 </size>\n            <allocation_attribute>  0x8 </allocation_attribute>\n            <filename> oem.img </filename>\n            <description>  </description>\n        </partition>\n        \x3c!-- Optional. COS_PERSISTENT can be provided by an NVME or via SD card --\x3e\n        <partition name="COS_PERSISTENT" type="data">\n            <allocation_policy> sequential </allocation_policy>\n            <filesystem_type> basic </filesystem_type>\n            <size> 2147483648 </size>\n            <allocation_attribute>  0x8 </allocation_attribute>\n            <filename> persistent.img </filename>\n            <description>  </description>\n        </partition>\n'})}),(0,o.jsx)(i.p,{children:"Be mindful also to change the esp partition or add it if required:"}),(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'     <partition name="esp" type="data">\n            <allocation_policy> sequential </allocation_policy>\n            <filesystem_type> basic </filesystem_type>\n\t    <size> 20971520 </size>\n\t    <file_system_attribute> 0 </file_system_attribute>\n\t    <partition_type_guid> C12A7328-F81F-11D2-BA4B-00A0C93EC93B </partition_type_guid>\n\t    <allocation_attribute> 0x8 </allocation_attribute>\n\t    <percent_reserved> 0 </percent_reserved>\n            <filename> efi.img </filename>\n            <description> **Required.** Contains a redundant copy of CBoot. </description>\n        </partition>\n'})}),(0,o.jsxs)(i.p,{children:["You can also remove the other partitions under ",(0,o.jsx)(i.code,{children:"sdmmc_user"})," as not effectively used by Kairos during boot."]})]}),"\n",(0,o.jsx)(i.admonition,{title:"Note",type:"note",children:(0,o.jsxs)(i.p,{children:["The ",(0,o.jsx)(i.code,{children:"COS_PERSISTENT"})," partition is optional. You can also use an SD card, or an nvme drive instead. The only requirement is to have the partition labeled as ",(0,o.jsx)(i.code,{children:"COS_PERSISTENT"}),"."]})}),"\n",(0,o.jsxs)(i.admonition,{title:"Note",type:"note",children:[(0,o.jsxs)(i.p,{children:["If modifiying the parition sizes, you need to replace the size inside the ",(0,o.jsx)(i.code,{children:"<size></size>"})," tags of each partition in the XML:"]}),(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"stat -c %s bootloader/efi.img\nstat -c %s bootloader/recovery_partition.img\nstat -c %s bootloader/state_partition.img\nstat -c %s bootloader/oem.img\nstat -c %s bootloader/persistent.img\n"})})]}),"\n",(0,o.jsx)(i.h3,{id:"flash",children:"Flash"}),"\n",(0,o.jsx)(i.p,{children:"To flash the images to the Orin board"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["Put the board in ",(0,o.jsx)(i.a,{href:"https://developer.nvidia.com/embedded/learn/jetson-agx-orin-devkit-user-guide/howto.html#force-recovery-mode",children:"recovery mode"})]}),"\n",(0,o.jsx)(i.li,{children:"Run:"}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"sudo ./tools/l4t_flash_prerequisites.sh # Install missing dependencies and fix file permissions \nsudo ./flash.sh jetson-agx-orin-devkit internal\n"})}),"\n",(0,o.jsx)(i.h3,{id:"booting",children:"Booting"}),"\n",(0,o.jsxs)(i.p,{children:["The Orin board now should boot. If you are connected over the serial you can login with: ",(0,o.jsx)(i.code,{children:"kairos/kairos"}),", similarly if you have plugged it to the network you should be able to SSH in as well."]}),"\n",(0,o.jsx)(i.h2,{id:"notes",children:"Notes"}),"\n",(0,o.jsx)(i.h2,{id:"usb-timeout-error",children:"USB Timeout error"}),"\n",(0,o.jsx)(i.p,{children:"It is possible that during flashing on certain kernel versions to see an error message:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"[ 0.3623 ] tegrarcm_v2 --new_session --chip 0x23 --uid --download bct_br br_bct_BR.bct --download mb1 mb1_t234_prod_aligned_sigheader.bin.encrypt --download psc_bl1 psc_bl1_t234_prod_aligned_sigheader.bin.encrypt --download bct_mb1 mb1_bct_MB1_sigheader.bct.encrypt\n[ 0.3630 ] BR_CID: 0x80012344705DD25D1C00000019028240\n[ 0.3932 ] Sending bct_br\n[ 0.4409 ] ERROR: might be timeout in USB write.\n[ 5.5325 ]\n"})}),"\n",(0,o.jsx)(i.p,{children:"See also the relevant Nvidia discussions in the forum:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.a,{href:"https://forums.developer.nvidia.com/t/usb-timeout-when-flashing-agx-orin/235600",children:"https://forums.developer.nvidia.com/t/usb-timeout-when-flashing-agx-orin/235600"})}),"\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.a,{href:"https://forums.developer.nvidia.com/t/cannot-flash-jetson-os-image-to-jetson-agx-orin-devkit-via-sdk-manager/219489/2",children:"https://forums.developer.nvidia.com/t/cannot-flash-jetson-os-image-to-jetson-agx-orin-devkit-via-sdk-manager/219489/2"})}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"The solution here is trying with a different kernel version, as suggested in the Nvidia threads."}),"\n",(0,o.jsx)(i.h3,{id:"default-configuration",children:"Default configuration"}),"\n",(0,o.jsxs)(i.p,{children:["To customize the default cloud config of the board, generate the images mounting the cloud config you want in the images in ",(0,o.jsx)(i.code,{children:"/defaults.yaml"}),":"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:'IMAGE=quay.io/kairos/ubuntu:22.04-core-arm64-nvidia-jetson-agx-orin-latest\nCLOUD_CONFIG=/cloud/config.yaml\ndocker run -v $CLOUD_CONFIG:/defaults.yaml --privileged \\\n        -e container_image=$IMAGE \\\n        -e STATE_SIZE="25500" \\\n        -e RECOVERY_SIZE="21000" \\\n        -e DEFAULT_ACTIVE_SIZE="7000" \\\n        -v $PWD/bootloader:/bootloader --entrypoint /prepare_nvidia_orin_images.sh -ti --rm quay.io/kairos/auroraboot:latest\n'})}),"\n",(0,o.jsx)(i.h3,{id:"debugging",children:"Debugging"}),"\n",(0,o.jsx)(i.p,{children:"Use the micro USB as debug serial port with minicom to debug any booting issues."}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"sudo minicom -D /dev/ttyACM0 -8 -b 115200\n"})}),"\n",(0,o.jsx)(i.h3,{id:"flashing-port",children:"Flashing port"}),"\n",(0,o.jsx)(i.p,{children:"In order to flash the Nvidia AGX Orin you will need to use the USB Type-C ports. The Micro USB port is reserved only for debugging over the serial console."})]})}function p(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},19365:(e,i,n)=>{n.d(i,{A:()=>r});n(96540);var t=n(34164);const o={tabItem:"tabItem_Ymn6"};var a=n(74848);function r({children:e,hidden:i,className:n}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,t.A)(o.tabItem,n),hidden:i,children:e})}},28453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>s});var t=n(96540);const o={},a=t.createContext(o);function r(e){const i=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(a.Provider,{value:i},e.children)}}}]);