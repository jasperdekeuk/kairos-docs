"use strict";(globalThis.webpackChunkkairos_docs=globalThis.webpackChunkkairos_docs||[]).push([[2882],{27233:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>n,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Reference/image_matrix","title":"Image support matrix","description":"Kairos offers several pre-built images for user convenience based on popular Linux distributions such as openSUSE, Alpine Linux, and Ubuntu. The Kairos core team does its best to test these images, but those that are based on systemd (e.g. openSUSE, Ubuntu) are more thoroughly tested due to their homogenous settings. Support for other non-systemd based flavors (e.g. Alpine) may be limited due to team bandwidth. However, as Kairos is an open source community-driven project, we welcome any contributions, bug reports, and bug fixes. Check out our Contribution guidelines for more information.","source":"@site/versioned_docs/version-3.6.0/Reference/image_matrix.md","sourceDirName":"Reference","slug":"/Reference/image_matrix","permalink":"/kairos-docs/docs/3.6.0/Reference/image_matrix","draft":false,"unlisted":false,"editUrl":"https://github.com/kairos-io/kairos-docs/tree/main/versioned_docs/version-3.6.0/Reference/image_matrix.md","tags":[],"version":"3.6.0","lastUpdatedBy":"Jasper De Keukelaere (imec)","lastUpdatedAt":1765142882000,"sidebarPosition":5,"frontMatter":{"title":"Image support matrix","sidebar_label":"Image support matrix","sidebar_position":5,"date":"2022-11-13T00:00:00.000Z"},"sidebar":"tutorialSidebar","previous":{"title":"Build Raw images with QEMU","permalink":"/kairos-docs/docs/3.6.0/Reference/build_raw_images_with_qemu"},"next":{"title":"Troubleshooting","permalink":"/kairos-docs/docs/3.6.0/Reference/troubleshooting"}}');var a=r(74848),o=r(28453);const n={title:"Image support matrix",sidebar_label:"Image support matrix",sidebar_position:5,date:new Date("2022-11-13T00:00:00.000Z")},t=void 0,l={},d=[{value:"Image flavors",id:"image-flavors",level:2},{value:"Building core and standard generic images",id:"building-core-and-standard-generic-images",level:3},{value:"Framework images",id:"framework-images",level:2},{value:"Versioning policy",id:"versioning-policy",level:2},{value:"Release changelog",id:"release-changelog",level:2},{value:"Service Billing Of Materials (SBOM)",id:"service-billing-of-materials-sbom",level:2},{value:"Image verification",id:"image-verification",level:2}];function c(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.p,{children:["Kairos offers several pre-built images for user convenience based on popular Linux distributions such as openSUSE, Alpine Linux, and Ubuntu. The Kairos core team does its best to test these images, but those that are based on systemd (e.g. openSUSE, Ubuntu) are more thoroughly tested due to their homogenous settings. Support for other non-systemd based flavors (e.g. Alpine) may be limited due to team bandwidth. However, as Kairos is an open source community-driven project, we welcome any contributions, bug reports, and bug fixes. Check out our ",(0,a.jsx)(s.a,{href:"https://github.com/kairos-io/kairos/contribute",children:"Contribution guidelines"})," for more information."]}),"\n",(0,a.jsx)(s.p,{children:"In addition, tighter integration with systemd allows for several features that are only available with it, such as live layering."}),"\n",(0,a.jsxs)(s.p,{children:["These images are pushed to quay.io and are available for installation and upgrading. The installable mediums included in the releases are generated using the methods described in the ",(0,a.jsx)(s.a,{href:"../../installation/automated#iso-remastering",children:"automated installation reference"}),", and the images can be used for upgrades as well."]}),"\n",(0,a.jsx)(s.h2,{id:"image-flavors",children:"Image flavors"}),"\n",(0,a.jsxs)(s.p,{children:["Kairos release processes generates images based on official container images from popular Linux distributions. If you don't see your preferred distribution, check if ",(0,a.jsx)(s.a,{href:"https://github.com/kairos-io/kairos/issues?q=is%3Aopen+is%3Aissue+label%3Aarea%2Fflavor",children:"we are already planning"})," support for it or create a new issue."]}),"\n",(0,a.jsx)(s.admonition,{title:"Note",type:"note",children:(0,a.jsxs)(s.p,{children:["You can also download ISOs and other artifacts from the ",(0,a.jsx)(s.a,{href:"https://github.com/kairos-io/kairos/releases",children:"releases page"}),"."]})}),"\n",(0,a.jsx)(s.p,{children:"Below is a list of the container repositories for each flavor:"}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:(0,a.jsx)(s.strong,{children:"Flavor"})}),(0,a.jsx)(s.th,{children:"repository"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"Alpine"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://quay.io/repository/kairos/alpine",children:"quay.io/kairos/alpine"})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"Debian"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://quay.io/repository/kairos/debian",children:"quay.io/kairos/debian"})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"Fedora"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://quay.io/repository/kairos/fedora",children:"quay.io/kairos/fedora"})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"openSUSE"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://quay.io/repository/kairos/opensuse",children:"quay.io/kairos/opensuse"})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"Ubuntu"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://quay.io/repository/kairos/ubuntu",children:"quay.io/kairos/ubuntu"})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"Rocky Linux"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://quay.io/repository/kairos/rockylinux",children:"quay.io/kairos/rockylinux"})})]})]})]}),"\n",(0,a.jsx)(s.p,{children:"The various images are available with different tags in the form of:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"quay.io/kairos/<flavor>:<flavor_release>-<variant>-<arch>-<device>-<version>\n"})}),"\n",(0,a.jsxs)(s.p,{children:["For example: . More about Kairos naming conventions ",(0,a.jsx)(s.a,{href:".././artifacts",children:"here"}),"."]}),"\n",(0,a.jsx)(s.p,{children:"Notes:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["The ",(0,a.jsx)(s.strong,{children:"Core"})," images do not include any Kubernetes engine and can be used as a base for customizations."]}),"\n",(0,a.jsxs)(s.li,{children:["The ",(0,a.jsx)(s.strong,{children:"Standard"})," images include ",(0,a.jsx)(s.code,{children:"k3s"})," and the ",(0,a.jsx)(s.a,{href:"https://github.com/kairos-io/provider-kairos",children:"kairos provider"}),", which enables Kubernetes deployments and optionally enables ",(0,a.jsx)(s.a,{href:"../../installation/p2p",children:"p2p"}),"."]}),"\n",(0,a.jsxs)(s.li,{children:["The ",(0,a.jsx)(s.strong,{children:"-img"})," repositories contain an img file which can be directly written to an SD card or USB drive for use with ARM devices."]}),"\n"]}),"\n",(0,a.jsxs)(s.admonition,{title:"Note",type:"info",children:[(0,a.jsxs)(s.p,{children:["The pipelines do not publish ",(0,a.jsx)(s.code,{children:"raw"})," artifacts for the arm architecture because the files are too large for GitHub Actions (they exceed the artifact size limit). These artifacts can be extracted from the published docker images using the following command:"]}),(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",metastring:'title="openSUSE+Leap-15.6,openSUSE+Tumbleweed,Ubuntu+20.04,Ubuntu+22.04,Alpine+3.19"',children:'docker run -ti --rm -v $PWD:/image gcr.io/go-containerregistry/crane export "\x3c!-- Hugo shortcode: oci variant="core" arch="arm64" model="rpi4" suffix="img" --\x3e" - | tar -xvf -\n'})}),(0,a.jsxs)(s.p,{children:["The artifacts can be found in the ",(0,a.jsx)(s.code,{children:"build"})," directory."]})]}),"\n",(0,a.jsx)(s.h3,{id:"building-core-and-standard-generic-images",children:"Building core and standard generic images"}),"\n",(0,a.jsxs)(s.p,{children:["Unfortunately we don't have the resources and capacity to build every possible artifact in our matrix. Thankfully, you can still build those images manually on your local machine, all you need is ",(0,a.jsx)(s.a,{href:"https://git-scm.com/",children:"git"})," and ",(0,a.jsx)(s.a,{href:"https://www.docker.com/",children:"docker"}),". Here's an example how to build an Almalinux ARM RPI4 container image."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"git clone https://github.com/kairos-io/kairos.git\ncd kairos\ndocker build --platform linux/arm64 --build-arg BASE_IMG=almalinux:9 --build-arg MODEL=rpi4 --build-arg VERSION=1.0.0 -f images/Dockerfile -t mycustomimage:1.0.0 .\n"})}),"\n",(0,a.jsx)(s.admonition,{title:"Note",type:"note",children:(0,a.jsxs)(s.p,{children:["See the ",(0,a.jsx)(s.a,{href:"kairos-factory",children:"kairos-factory.md"})," page for more info."]})}),"\n",(0,a.jsx)(s.h2,{id:"framework-images",children:"Framework images"}),"\n",(0,a.jsxs)(s.p,{children:["Kairos releases contains also the ",(0,a.jsx)(s.strong,{children:"framework"})," assets that can be used to ",(0,a.jsx)(s.a,{href:"../../reference/build-from-scratch",children:"build Kairos images from Scratch"}),"."]}),"\n",(0,a.jsxs)(s.p,{children:["Framework images can be found in quay at: ",(0,a.jsx)(s.a,{href:"https://quay.io/repository/kairos/framework",children:"https://quay.io/repository/kairos/framework"}),"."]}),"\n",(0,a.jsxs)(s.p,{children:["Each tag follow the convention: ",(0,a.jsx)(s.code,{children:"<version>[-fips]"}),"."]}),"\n",(0,a.jsx)(s.h2,{id:"versioning-policy",children:"Versioning policy"}),"\n",(0,a.jsxs)(s.p,{children:["Kairos follows ",(0,a.jsx)(s.a,{href:"https://semver.org/",children:"Semantic Versioning"})," and our releases signal changes to Kairos components, rather than changes to the underlying OS and package versions. Flavors are pinned to specific upstream OS branches (e.g. ",(0,a.jsx)(s.code,{children:"opensuse"})," to ",(0,a.jsx)(s.code,{children:"leap 15.4"}),") and major version bumps will be reflected through new flavors in our build matrix or through specific releases to follow upstream with regard to minor version bumps (e.g. ",(0,a.jsx)(s.code,{children:"leap 15.3"})," and ",(0,a.jsx)(s.code,{children:"leap 15.4"}),")."]}),"\n",(0,a.jsx)(s.p,{children:"Here are some key points to note:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"We only support the latest release branch with patch releases."}),"\n",(0,a.jsxs)(s.li,{children:["Patch releases (e.g. ",(0,a.jsx)(s.em,{children:"1.1.x"}),") follow a weekly release cadence, unless there are exceptions for highly impactful bugs in Kairos itself or at the OS layer (e.g. high-severity CVEs)."]}),"\n",(0,a.jsx)(s.li,{children:"Minor releases follow a monthly cadence and are expected to bring enhancements through planned releases."}),"\n",(0,a.jsx)(s.li,{children:"Major releases signal new advanced features or significant changes to the codebase. In-place upgrades from old to new major release branches are not always guaranteed, but we strive for compatibility across versions."}),"\n"]}),"\n",(0,a.jsxs)(s.admonition,{title:"Note",type:"info",children:[(0,a.jsxs)(s.p,{children:["In order to give users more control over the chosen base image (e.g. ",(0,a.jsx)(s.code,{children:"openSUSE"}),", ",(0,a.jsx)(s.code,{children:"Ubuntu"}),", etc.) and reduce reliance on our CI infrastructure, we are actively working on streamlining the creation of Kairos-based distributions directly from upstream base images. You can track the development progress ",(0,a.jsx)(s.a,{href:"https://github.com/kairos-io/kairos/issues/116",children:"here"}),"."]}),(0,a.jsxs)(s.p,{children:["If you need to further customize images, including changes to the base image, package updates, and CVE hotfixes, check out the ",(0,a.jsx)(s.a,{href:"../../advanced/customizing",children:"customization docs"}),"."]})]}),"\n",(0,a.jsx)(s.h2,{id:"release-changelog",children:"Release changelog"}),"\n",(0,a.jsx)(s.p,{children:"Our changelog is published as part of the release process and contains all the changes, highlights, and release notes that are relevant to the release. We strongly recommend checking the changelog for each release before upgrading or building a customized version of Kairos."}),"\n",(0,a.jsx)(s.p,{children:"Release changelogs are available for Kairos core and for each component. Below is a list of the components that are part of a Kairos release and their respective release pages with changelogs."}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:(0,a.jsx)(s.strong,{children:"Project"})}),(0,a.jsx)(s.th,{children:(0,a.jsx)(s.strong,{children:"Release page"})})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"Kairos core and standard (k3s support)"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://github.com/kairos-io/kairos/releases",children:"https://github.com/kairos-io/kairos/releases"})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"Kairos' provider"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://github.com/kairos-io/provider-kairos/releases",children:"https://github.com/kairos-io/provider-kairos/releases"})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"Immucore"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://github.com/kairos-io/Immucore/releases",children:"https://github.com/kairos-io/Immucore/releases"})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"AuroraBoot"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://github.com/kairos-io/AuroraBoot/releases",children:"https://github.com/kairos-io/AuroraBoot/releases"})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"OSBuilder"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.a,{href:"https://github.com/kairos-io/osbuilder/releases",children:"https://github.com/kairos-io/osbuilder/releases"})})]})]})]}),"\n",(0,a.jsx)(s.h2,{id:"service-billing-of-materials-sbom",children:"Service Billing Of Materials (SBOM)"}),"\n",(0,a.jsx)(s.p,{children:"SBOM lists are regularly pushed via the CI as part of the Github releases assets. For instance,"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:'https://github.com/kairos-io/kairos/releases/download/latest/\x3c!-- Hugo shortcode: image variant="core" suffix="-sbom.spdx.json"  --\x3e\n'})}),"\n",(0,a.jsx)(s.p,{children:"is the SBOM for the core  image."}),"\n",(0,a.jsx)(s.h2,{id:"image-verification",children:"Image verification"}),"\n",(0,a.jsxs)(s.p,{children:["Images signatures are pushed regularly for tagged releases. To verify images with ",(0,a.jsx)(s.code,{children:"cosign"})," (",(0,a.jsx)(s.a,{href:"https://docs.sigstore.dev/cosign/installation/",children:"install guide"}),") for example, you can use the following command:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:'cosign verify-attestation \\\n        --type spdx quay.io/kairos/kairos-core:latest \\\n        --certificate-identity "https://github.com/kairos-io/kairos/.github/workflows/release.yaml@refs/tags/latest" \\\n        --certificate-oidc-issuer "https://token.actions.githubusercontent.com"\n'})}),"\n",(0,a.jsxs)(s.p,{children:["To see how to verify image attestation during upgrades with ",(0,a.jsx)(s.code,{children:"kyverno"}),", see the ",(0,a.jsx)(s.a,{href:"https://kairos.io/docs/upgrade/kubernetes/#verify-images-attestation-during-upgrades",children:"documentation page"}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>n,x:()=>t});var i=r(96540);const a={},o=i.createContext(a);function n(e){const s=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:n(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);