"use strict";(globalThis.webpackChunkkairos_docs=globalThis.webpackChunkkairos_docs||[]).push([[4740],{28453:(e,o,n)=>{n.d(o,{R:()=>s,x:()=>a});var t=n(96540);const i={},r=t.createContext(i);function s(e){const o=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(r.Provider,{value:o},e.children)}},94948:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"Installation/raspberry","title":"RaspberryPi","description":"Install Kairos on RaspberryPi","source":"@site/versioned_docs/version-3.5.7/Installation/raspberry.md","sourceDirName":"Installation","slug":"/Installation/raspberry","permalink":"/docs/3.5.7/Installation/raspberry","draft":false,"unlisted":false,"editUrl":"https://github.com/kairos-io/kairos-docs/tree/main/versioned_docs/version-3.5.7/Installation/raspberry.md","tags":[],"version":"3.5.7","lastUpdatedBy":"Jasper De Keukelaere (imec)","lastUpdatedAt":1765142882000,"sidebarPosition":4,"frontMatter":{"title":"RaspberryPi","sidebar_label":"RaspberryPi","sidebar_position":4,"date":"2022-11-13T00:00:00.000Z","description":"Install Kairos on RaspberryPi"},"sidebar":"tutorialSidebar","previous":{"title":"Nvidia AGX Orin","permalink":"/docs/3.5.7/Installation/nvidia_agx_orin"},"next":{"title":"Network booting","permalink":"/docs/3.5.7/Installation/netboot"}}');var i=n(74848),r=n(28453);const s={title:"RaspberryPi",sidebar_label:"RaspberryPi",sidebar_position:4,date:new Date("2022-11-13T00:00:00.000Z"),description:"Install Kairos on RaspberryPi"},a=void 0,l={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Install using AuroraBoot",id:"install-using-auroraboot",level:2},{value:"Install using images",id:"install-using-images",level:2},{value:"Download",id:"download",level:3},{value:"Flash the image",id:"flash-the-image",level:3},{value:"Boot",id:"boot",level:3},{value:"Configure your node",id:"configure-your-node",level:3}];function c(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.admonition,{title:"Info",type:"info",children:(0,i.jsx)(o.p,{children:"Kairos supports Raspberry Pi model 3 and 4 with 64bit architecture."})}),"\n",(0,i.jsx)(o.admonition,{title:"Warning",type:"warning",children:(0,i.jsxs)(o.p,{children:["Model 5 is currently not supported because of how we use U-boot to boot the device. There's currently some work from the people from SUSE, see ",(0,i.jsx)(o.a,{href:"https://github.com/openSUSE/u-boot/pull/29",children:"https://github.com/openSUSE/u-boot/pull/29"})," for more information."]})}),"\n",(0,i.jsxs)(o.p,{children:["If you are not familiar with the process, it is suggested to follow the ",(0,i.jsx)(o.a,{href:"/getting-started/",children:"quickstart"})," first to see how Kairos works."]}),"\n",(0,i.jsx)(o.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:"An SD card which size is at least 16 GB"}),"\n",(0,i.jsxs)(o.li,{children:["Etcher or ",(0,i.jsx)(o.code,{children:"dd"})]}),"\n",(0,i.jsx)(o.li,{children:"A Linux host where to flash the device"}),"\n"]}),"\n",(0,i.jsx)(o.h2,{id:"install-using-auroraboot",children:"Install using AuroraBoot"}),"\n",(0,i.jsxs)(o.p,{children:["Create ",(0,i.jsx)(o.code,{children:"build"})," directory and add ",(0,i.jsx)(o.code,{children:"cloud-config.yaml"}),", then run:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-bash",children:'docker run --rm --privileged -v /var/run/docker.sock:/var/run/docker.sock \\\n                --platform linux/arm64 -v $PWD/build/:/output \\\n                kairos.docker.scarf.sh/kairos/auroraboot:latest \\\n                --debug --set "disable_http_server=true" --set "disable_netboot=true" \\\n                --set "state_dir=/output" --set "disk.raw=true" \\\n                --cloud-config /output/cloud-config.yaml \\\n                --set "container_image=\x3c!-- Hugo shortcode: oci variant="standard" model="rpi4" arch="arm64" --\x3e"\n'})}),"\n",(0,i.jsxs)(o.p,{children:["Once complete, use Etcher or ",(0,i.jsx)(o.code,{children:"dd"})," to flash the image to an SD card:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-bash",metastring:'title="openSUSE+Leap-15.6,openSUSE+Tumbleweed,Ubuntu+20.04,Ubuntu+22.04,Alpine+3.19"',children:'sudo dd if=build/\x3c!-- Hugo shortcode: image variant="standard" model="rpi4" arch="arm64" suffix=".raw" --\x3e of=<device> oflag=sync status=progress bs=10M\n'})}),"\n",(0,i.jsx)(o.h2,{id:"install-using-images",children:"Install using images"}),"\n",(0,i.jsx)(o.h3,{id:"download",children:"Download"}),"\n",(0,i.jsxs)(o.p,{children:["Extract the ",(0,i.jsx)(o.code,{children:"img"})," file from a container image as described ",(0,i.jsx)(o.a,{href:"../../reference/image_matrix",children:"in this page"})]}),"\n",(0,i.jsx)(o.h3,{id:"flash-the-image",children:"Flash the image"}),"\n",(0,i.jsxs)(o.p,{children:["Plug the SD card to your system. To flash the image, you can either use Etcher or ",(0,i.jsx)(o.code,{children:"dd"}),":"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-bash",metastring:'title="openSUSE+Leap-15.6,openSUSE+Tumbleweed,Ubuntu+20.04,Ubuntu+22.04,Alpine+3.19"',children:'sudo dd if=\x3c!-- Hugo shortcode: image variant="standard" model="rpi4" arch="arm64" suffix=".raw" --\x3e of=<device> oflag=sync status=progress bs=10MB\n'})}),"\n",(0,i.jsxs)(o.p,{children:["Once the image is flashed, there is no need to carry out any other installation steps, it can be booted right away. However you may want to add a ",(0,i.jsx)(o.code,{children:"cloud-config"})," at this point - see below."]}),"\n",(0,i.jsx)(o.h3,{id:"boot",children:"Boot"}),"\n",(0,i.jsxs)(o.p,{children:["Use the SD Card to boot the device.\nDuring the first boot, the system will enter recovery mode and create the ",(0,i.jsx)(o.code,{children:"COS_STATE"})," and ",(0,i.jsx)(o.code,{children:"COS_PERSISTENT"})," volumes.\nAfter creating the volumes, the system will automatically reboot. This process may take a few minutes depending on the size and speed of the storage.\nThe default username/password for the system is ",(0,i.jsx)(o.code,{children:"kairos"}),"/",(0,i.jsx)(o.code,{children:"kairos"}),".\nTo configure your access or disable password change the ",(0,i.jsx)(o.code,{children:"/oem/90_custom.yaml"})," accordingly."]}),"\n",(0,i.jsx)(o.h3,{id:"configure-your-node",children:"Configure your node"}),"\n",(0,i.jsxs)(o.p,{children:["To configure the device beforehand, be sure to have the SD plugged in your host. We need to overwrite the default configuration file with the desired ",(0,i.jsx)(o.code,{children:"cloud-config"})," in the ",(0,i.jsx)(o.code,{children:"COS_OEM"})," partition:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{children:"$ OEM=$(blkid -L COS_OEM)\n$ mkdir /tmp/oem\n$ sudo mount $OEM /tmp/oem\n$ sudo cp cloud-config.yaml /tmp/oem/90_custom.yaml\n$ sudo umount /tmp/oem\n"})}),"\n",(0,i.jsxs)(o.p,{children:["You can push additional ",(0,i.jsx)(o.code,{children:"cloud config"})," files. For a full reference check out the ",(0,i.jsx)(o.a,{href:"../../reference/configuration",children:"docs"})," and also ",(0,i.jsx)(o.a,{href:"../../advanced/after-install",children:"configuration after-installation"})]})]})}function u(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);