<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Reference/kairos-factory" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">The Kairos Factory | Kairos</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kairos.io/kairos-docs/img/Kairos_800x419.png"><meta data-rh="true" name="twitter:image" content="https://kairos.io/kairos-docs/img/Kairos_800x419.png"><meta data-rh="true" property="og:url" content="https://kairos.io/kairos-docs/docs/next/Reference/kairos-factory"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="The Kairos Factory | Kairos"><meta data-rh="true" name="description" content="Converting any base image into a Kairos ready image"><meta data-rh="true" property="og:description" content="Converting any base image into a Kairos ready image"><link data-rh="true" rel="icon" href="/kairos-docs/img/logo.svg"><link data-rh="true" rel="canonical" href="https://kairos.io/kairos-docs/docs/next/Reference/kairos-factory"><link data-rh="true" rel="alternate" href="https://kairos.io/kairos-docs/docs/next/Reference/kairos-factory" hreflang="en"><link data-rh="true" rel="alternate" href="https://kairos.io/kairos-docs/docs/next/Reference/kairos-factory" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Reference","item":"https://kairos.io/kairos-docs/docs/next/category/reference"},{"@type":"ListItem","position":2,"name":"The Kairos Factory","item":"https://kairos.io/kairos-docs/docs/next/Reference/kairos-factory"}]}</script><link rel="alternate" type="application/rss+xml" href="/kairos-docs/blog/rss.xml" title="Kairos RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/kairos-docs/blog/atom.xml" title="Kairos Atom Feed">




<script src="https://buttons.github.io/buttons.js" async defer="defer"></script><link rel="stylesheet" href="/kairos-docs/assets/css/styles.c9791132.css">
<script src="/kairos-docs/assets/js/runtime~main.32d1f2f4.js" defer="defer"></script>
<script src="/kairos-docs/assets/js/main.a6b903dc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/kairos-docs/img/logo.svg"><link rel="preload" as="image" href="https://github.com/user-attachments/assets/685e85b4-9559-48c6-973c-221b43883baa"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/kairos-docs/"><div class="navbar__logo"><img src="/kairos-docs/img/logo.svg" alt="Kairos Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/kairos-docs/img/logo.svg" alt="Kairos Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Kairos</b></a><a class="navbar__item navbar__link" href="/kairos-docs/docs/getting-started">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/kairos-docs/docs/next/getting-started/">Documentation</a><a class="navbar__item navbar__link" href="/kairos-docs/blog">Blog</a><a href="https://kairos.io/community/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/kairos-docs/docs/next/Reference/kairos-factory">Next ðŸš§</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/kairos-docs/docs/next/Reference/kairos-factory">Next ðŸš§</a></li><li><a class="dropdown__link" href="/kairos-docs/docs/3.6.0/Reference/kairos-factory">3.6.0 (Latest)</a></li><li><a class="dropdown__link" href="/kairos-docs/docs/3.5.7/Reference/kairos-factory">3.5.7</a></li></ul></div><div class="navbar__item"><a class="github-button" href="https://github.com/kairos-io/kairos" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star kairos-io/kairos on GitHub">Star</a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/kairos-docs/docs/next/getting-started/"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/kairos-docs/docs/next/category/installation"><span title="Installation" class="categoryLinkLabel_W154">Installation</span></a><button aria-label="Expand sidebar category &#x27;Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/kairos-docs/docs/next/category/architecture"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a><button aria-label="Expand sidebar category &#x27;Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/kairos-docs/docs/next/category/advanced"><span title="Advanced" class="categoryLinkLabel_W154">Advanced</span></a><button aria-label="Expand sidebar category &#x27;Advanced&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/kairos-docs/docs/next/Upgrade/manual"><span title="Upgrade" class="categoryLinkLabel_W154">Upgrade</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/kairos-docs/docs/next/category/reference"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a><button aria-label="Collapse sidebar category &#x27;Reference&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/architecture"><span title="Architecture" class="linkLabel_WmDU">Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/artifacts"><span title="Artifact Naming Convention" class="linkLabel_WmDU">Artifact Naming Convention</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/auroraboot"><span title="AuroraBoot" class="linkLabel_WmDU">AuroraBoot</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/configuration"><span title="Configuration" class="linkLabel_WmDU">Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/kairosctl"><span title="kairosctl" class="linkLabel_WmDU">kairosctl</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/stage_modules"><span title="Stage modules" class="linkLabel_WmDU">Stage modules</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kairos-docs/docs/next/Reference/kairos-factory"><span title="The Kairos Factory" class="linkLabel_WmDU">The Kairos Factory</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/reset"><span title="Reset" class="linkLabel_WmDU">Reset</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/build-from-scratch"><span title="Build Kairos from scratch" class="linkLabel_WmDU">Build Kairos from scratch</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/build_raw_images_with_qemu"><span title="Build Raw images with QEMU" class="linkLabel_WmDU">Build Raw images with QEMU</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/image_matrix"><span title="Image support matrix" class="linkLabel_WmDU">Image support matrix</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/recovery_mode"><span title="Recovery mode" class="linkLabel_WmDU">Recovery mode</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/entangle"><span title="Entangle" class="linkLabel_WmDU">Entangle</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/faq"><span title="Frequently asked questions" class="linkLabel_WmDU">Frequently asked questions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kairos-docs/docs/next/Reference/alerts"><span title="Alerts Styling" class="linkLabel_WmDU">Alerts Styling</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/kairos-docs/docs/next/category/development"><span title="Development" class="categoryLinkLabel_W154">Development</span></a><button aria-label="Expand sidebar category &#x27;Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/kairos-docs/docs/next/Examples/boot_assessment_trusted_boot"><span title="Examples" class="categoryLinkLabel_W154">Examples</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Kairos<!-- --> <b>Next ðŸš§</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/kairos-docs/docs/3.6.0/Reference/kairos-factory">latest version</a></b> (<!-- -->3.6.0 (Latest)<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/kairos-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/kairos-docs/docs/next/category/reference"><span>Reference</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">The Kairos Factory</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next ðŸš§</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>The Kairos Factory</h1></header><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Ongoing Project</div><div class="admonitionContent_BuS1"><p>The Kairos factory is an ongoing project. Things might change, and we are working on improving the documentation and the process. If you encounter any issues, please feel free to open up issues and help us improve the Documentation!</p><p>For further info check out <a href="https://github.com/kairos-io/kairos/issues/1914" target="_blank" rel="noopener noreferrer" class="">#1914</a></p></div></div>
<p>Kairos is not just an OS, it&#x27;s also a way to turn an existing OS into a Kairos-ready image. This process is called &quot;Kairosification&quot; and it&#x27;s done by the Kairos Factory.</p>
<p>For the newcomer or someone who simply needs an immutable OS with k3s and edgeVPN, the Kairos OS is the way to go. As long as this components work, you don&#x27;t need to worry about the changes in the underlying OS. However, if you need to ensure certain packages are present or remain stable in your system, you can use the Kairos Factory to convert your base image into a Kairos-ready image. This is particularly useful if you have special firmware requirements, or if you want to have your own release cadence.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Requirements</div><div class="admonitionContent_BuS1"><p>In order to run the Kairos Factory, you will need docker installed on your system. You can find the installation instructions <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer" class="">here</a>.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-kairos-factory-process">The Kairos Factory Process<a href="#the-kairos-factory-process" class="hash-link" aria-label="Direct link to The Kairos Factory Process" title="Direct link to The Kairos Factory Process" translate="no">â€‹</a></h2>
<p>The Kairos factory is a single step process applied on a container image. All you need to do is run <a href="https://github.com/kairos-io/kairos-init" target="_blank" rel="noopener noreferrer" class="">kairos-init</a> in your Dockerfile. Optionally, you can use <a class="" href="/kairos-docs/docs/next/Reference/auroraboot">auroraboot.md</a> to generate artifacts (isos, raw images, etc..) based on the generated OCI artifact.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-kairos-init">What is Kairos-init?<a href="#what-is-kairos-init" class="hash-link" aria-label="Direct link to What is Kairos-init?" title="Direct link to What is Kairos-init?" translate="no">â€‹</a></h2>
<p>kairos-init is a tool designed to facilitate the initialization and customization of Kairos-based images.
The primary purpose of kairos-init is to convert an existing base image into a Kairos-ready image.</p>
<p>kairos-init should be available to plug into your existing dockerfile and would allow you to only use docker to generate valid Kairos compatible artifacts</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Platforms</div><div class="admonitionContent_BuS1"><p>Note that as we are using standard docker tools, the platform to build for is provided by docker, either by the default value or by the <code>--platform</code> setting when building images. The platform to build the Kairos OCI artifacts is based on that, so running it under an arm64 platform will build and arm64 Kairos artifact.</p><p>See the <a href="https://docs.docker.com/build/building/multi-platform/" target="_blank" rel="noopener noreferrer" class="">docker multi-platform docs</a> for more info.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-to-use">How to use<a href="#how-to-use" class="hash-link" aria-label="Direct link to How to use" title="Direct link to How to use" translate="no">â€‹</a></h2>
<p>Create a single Dockerfile:</p>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM quay.io/kairos/kairos-init:latest AS kairos-init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM ubuntu:24.04</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG VERSION=1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init --version &quot;${VERSION}&quot;</span><br></span></code></pre></div></div>
<p>The only required argument for kairos-init is the version, which will be set under the <code>/etc/kairos-release</code> values to track the artifacts version so you can upgrade to those and track changes.</p>
<p>Then you can just build it like any other Dockerfile ever:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker build -t ubuntu-kairos:24.04 .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] Building 69.9s (10/10) FINISHED                                                      docker:default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load build definition from Dockerfile                                               0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; transferring dockerfile: 240B                                                               0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load metadata for docker.io/library/ubuntu:24.04                                    0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load metadata for quay.io/kairos/kairos-init:v0.5.0                                 0.4s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load .dockerignore                                                                  0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; transferring context: 2B                                                                    0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; CACHED [kairos-init 1/1] FROM quay.io/kairos/kairos-init:v0.5.0@sha256:8d6a0000b6dfcf905eceeb  0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [stage-1 1/4] FROM docker.io/library/ubuntu:24.04                                              0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; CACHED [stage-1 2/4] COPY --from=kairos-init /kairos-init /kairos-init                         0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [stage-1 3/4] RUN /kairos-init --version &quot;1.0.0&quot;                                              66.7s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [stage-1 4/4] RUN rm /kairos-init                                                              0.1s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; exporting to image                                                                             2.6s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; exporting layers                                                                            2.6s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; writing image sha256:78d8ba90a19bfa472438f207002a0ba2178917ab4c5190c3b2146f1964bac6dc       0.0s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; naming to docker.io/library/ubuntu-kairos:24.04                                             0.0s </span><br></span></code></pre></div></div>
<p>That will give you a nice local image tagged <code>ubuntu-kairos:24.04</code> that can be feed to <a class="" href="/kairos-docs/docs/next/Reference/auroraboot">auroraboot.md</a> to generate an ISO, Trusted Boot artifacts or Cloud Images.</p>
<p>For example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker run --rm -v /var/run/docker.sock:/var/run/docker.sock -v $PWD/build/:/output \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  quay.io/kairos/auroraboot:latest build-iso --output /output/ docker:ubuntu-kairos:24.04</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:42Z INF Copying ubuntu-kairos:24.04 source to /output/temp-rootfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:47Z INF Finished copying ubuntu-kairos:24.04 into /output/temp-rootfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:47Z INF Preparing squashfs root...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:47Z INF Copying /output/temp-rootfs source to /tmp/auroraboot-iso220411365/rootfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:47Z INF Starting rsync...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Finished syncing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Finished copying /output/temp-rootfs into /tmp/auroraboot-iso220411365/rootfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Preparing ISO image root tree...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Copying /tmp/geniso2408076146 source to /tmp/auroraboot-iso220411365/iso</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Starting rsync...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Finished syncing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Finished copying /tmp/geniso2408076146 into /tmp/auroraboot-iso220411365/iso</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Creating EFI image...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Detected Flavor: ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Ubuntu based ISO detected, copying grub.cfg to /EFI/ubuntu/grub.cfg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Creating file system image /tmp/auroraboot-iso220411365/iso/boot/uefi.img with size 4Mb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:49Z INF Creating squashfs...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T13:33:53Z INF Creating ISO image...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ls build      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config.yaml  kairos.iso  kairos.iso.sha256  netboot  temp-rootfs</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Bind mount the binary instead of copying?</div><div class="admonitionContent_BuS1"><p>As you will see over the examples, we do not copy the kairos-init binary into the image, but rather we bind mount it from the kairos-init image. This is in order to save space due to how docker works with layers and caching. If you want to copy the binary instead, you can use the <code>COPY --from=kairos-init /kairos-init /kairos-init</code> command instead of the <code>RUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init</code> command, the output will be the same but the end image will be a bit larger.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-the-version-matters">Why the Version Matters<a href="#why-the-version-matters" class="hash-link" aria-label="Direct link to Why the Version Matters" title="Direct link to Why the Version Matters" translate="no">â€‹</a></h2>
<p>When using kairos-init, the --version argument you set isn&#x27;t just cosmetic â€” it defines the version metadata for the image you&#x27;re building. This version is embedded into /etc/kairos-release inside the image, and it becomes critical for:</p>
<ul>
<li class="">
<p>Upgrade management: Kairos upgrade tooling checks versions to decide when and how to upgrade systems safely.</p>
</li>
<li class="">
<p>Tracking changes: It helps users, automation, and debugging processes know exactly what version of a system they are running.</p>
</li>
<li class="">
<p>Compatibility validation: Different components, like trusted boot artifacts or upgrade servers, rely on accurate versioning to operate properly.</p>
</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Important!</div><div class="admonitionContent_BuS1"><p>Kairos Factory prepares base artifacts. It&#x27;s the responsibility of the derivative project or user (you!) to define and manage the versioning of your images. The only requirement is that versions must follow Semantic Versioning (semver.org) conventions to ensure upgrades and compatibility checks work predictably.</p></div></div>
<p>Different users may adopt different strategies:</p>
<ul>
<li class="">
<p>A project building nightly or weekly Kairos images might automatically bump the patch or minor version each time, pulling in the latest OS package updates and security fixes.</p>
</li>
<li class="">
<p>Another team might maintain stable, long-lived releases, only issuing a new version every six months after extensive testing, validation, and certification.</p>
</li>
</ul>
<p>Both are perfectly valid.
What matters is that you track and manage your own version history, ensuring each new artifact has a clear and correct version that reflects its expected upgrade and compatibility behavior.</p>
<p>If you don&#x27;t set a meaningful version when running kairos-init, you risk confusing upgrade flows, making troubleshooting harder, and potentially breaking compatibility guarantees for users and automated systems.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kairos releases</div><div class="admonitionContent_BuS1"><p>Kairos releases its own artifacts with our own cadence, as we are also consumers of kairos-init. We use the same recommendations as above for our own &quot;vanilla&quot; Kairos releases.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration" translate="no">â€‹</a></h2>
<p>kairos-init can generate both core and standard images, and standard images can be bundled with either k3s or k0s and any version of the software that you want.</p>
<p>It can also prepare OCI artifacts for <a class="" href="/kairos-docs/docs/next/Architecture/trustedboot">Trusted Boot</a> which are slimmer than the usual ones, as they have size limitations plus we dont want to ship things like grub or dracut in them as they are useless.</p>
<p>Here is a list of flags, explanation and what are the possible and default values</p>
<table><thead><tr><th>Flag</th><th>Explanation</th><th>Possible values</th><th>Default value</th></tr></thead><tbody><tr><td>-v</td><td>Set version of the artifact that we are building</td><td>Any</td><td>None (REQUIRED)</td></tr><tr><td>-l</td><td>Sets the log level</td><td>info,warn,debug,trace</td><td>info</td></tr><tr><td>-s</td><td>Sets the stage to run</td><td>install, init, all</td><td>all</td></tr><tr><td>-m</td><td>Sets the model</td><td>generic, rpi3, rpi4</td><td>generic</td></tr><tr><td>-k</td><td>Sets the Kubernetes provider</td><td>k3s,k0s</td><td>None</td></tr><tr><td>--k8sversion</td><td>Set the Kubernetes version to use for the given provider</td><td>Any valid provider version</td><td>Latest</td></tr><tr><td>-t</td><td>Sets Trusted Boot on</td><td>true,false</td><td>false</td></tr><tr><td>--fips</td><td>Use FIPS framework for FIPS 140-2 compliance images</td><td>bool</td><td>false</td></tr><tr><td>-x</td><td>Enable the loading of stage extensions</td><td>bool</td><td>false</td></tr><tr><td>--skip-steps</td><td>Skip the given steps during the image build</td><td>Steps or Stages</td><td>None</td></tr></tbody></table>
<p>You can provide a generic Dockerfile that gets all this values and passes them down into kairos-init like we do under Kairos:</p>
<p>See the <a href="https://raw.githubusercontent.com/kairos-io/kairos/refs/heads/master/images/Dockerfile" target="_blank" rel="noopener noreferrer" class="">Kairos Dockerfile</a> for the full implementation.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>K8s versions</div><div class="admonitionContent_BuS1"><p>When selecting a k8s provider, the produced image will contain the latest published version of that provider and the Kairos provider for kubernetes.
If you want to override the version installed see the flag <code>--k8sversion</code></p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="phases">Phases<a href="#phases" class="hash-link" aria-label="Direct link to Phases" title="Direct link to Phases" translate="no">â€‹</a></h2>
<p>kairos-init is divided in 2 phases, one its the install phase which install all needed packages and binaries and the other is the init phase, which gets the system ready. This are the main parts of each phase:</p>
<p>Install:</p>
<ul>
<li class="">Install required packages via system package manager</li>
<li class="">Install the kernel</li>
<li class="">Install the Kairos binaries, like the agent or immucore</li>
<li class="">Install the Kairos configurations, like oem yip configs, initrd configs, etc..</li>
<li class="">Install the Kairos&#x27; provider, including a k8s distribution and tools if requested</li>
</ul>
<p>Init:</p>
<ul>
<li class="">Fill the /etc/kairos-release data (needed for upgrades, grub booting, kernel cmdline, etc...)</li>
<li class="">Remove Old kernel links and duplicates</li>
<li class="">Get and link kernel to <code>/boot/vmlinuz</code></li>
<li class="">Remove all existing initrds</li>
<li class="">Build a new initrd and link it to <code>/boot/initrd</code></li>
<li class="">Enable/disable needed services</li>
<li class="">Run some workarounds (grub vs grub2 naming for example)</li>
<li class="">Run system cleanup to avoid leftovers</li>
</ul>
<p>As you can see, both of these stages runs separately so you can hijack this in the middle and add or remove things.</p>
<p>For example, it&#x27;s possible to add extra modules to be added to the initrd, or a specific kernel instead of the default latest one.
Extra services can be either added or made required, etc..</p>
<p>The separation it&#x27;s also very useful for caching, as once the install phase has been cached by docker we can modify the following steps to fix any issues before the init phase is run, without removing the cache. This is particularly useful under cross platform builds where speed can take a big impact depending on your setup.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="skipping-steps-and-stages">Skipping steps and stages<a href="#skipping-steps-and-stages" class="hash-link" aria-label="Direct link to Skipping steps and stages" title="Direct link to Skipping steps and stages" translate="no">â€‹</a></h2>
<p>We recognize that one size does not fit all, and sometimes you may want to skip certain steps or stages during the image build process. To accommodate this, kairos-init provides the <code>--skip-steps</code> flag.</p>
<p>This is useful if you want to customize the image yourself and find that some steps collide with your customization. You can choose between <code>install</code> and <code>init</code> to skip those full stages or go into specific steps.</p>
<p>Run <code>kairos-init steps-info</code> to see the available steps and their descriptions. You can pass more than one step, separated by comma, to skip multiple steps, for example: <code>--skip-steps installPackages,kernel</code>.</p>
<p>This is an example output of the stages and steps available. We recommend you run <code>kairos-init steps-info</code> to see the updated list of steps and stages available, as this is subject to change:</p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM quay.io/kairos/kairos-init:latest AS kairos-init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM ubuntu:24.04</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init steps-info</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] Starting kairos-init version 59628ad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] Step name &amp; Description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] --------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;branding&quot;: applies the branding for the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;cleanup&quot;: cleans up the system of unneeded packages and files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;cloudconfigs&quot;: installs the cloud-configs for the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;grub&quot;: configures the grub bootloader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;init&quot;: The full init stage, which includes kairosRelease, kubernetes, initrd, services, workarounds and cleanup steps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;initramfsConfigs&quot;: configures the initramfs for the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;initrd&quot;: generates the initrd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;install&quot;: The full install stage, which includes installPackages, kubernetes, cloudconfigs, branding, grub, services, kairosBinaries, providerBinaries, initramfsConfigs and miscellaneous steps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;installKernel&quot;: installs the kernel packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;installPackages&quot;: installs the base system packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;kairosBinaries&quot;: installs the kairos binaries</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;kairosRelease&quot;: creates and fills the /etc/kairos-release file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;kernel&quot;: installs the kernel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;kubernetes&quot;: installs the kubernetes provider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;miscellaneous&quot;: applies miscellaneous configurations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;providerBinaries&quot;: installs the kairos provider binaries for k8s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;services&quot;: creates and enables required services</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-07-07T09:53:05Z INF [7] &quot;workarounds&quot;: applies workarounds for known issues</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="extending-stages-with-custom-actions">Extending stages with custom actions<a href="#extending-stages-with-custom-actions" class="hash-link" aria-label="Direct link to Extending stages with custom actions" title="Direct link to Extending stages with custom actions" translate="no">â€‹</a></h2>
<p>This allows to load stage extensions from a dir in the filesystem to expand the default stages with custom logic.</p>
<p>You can enable this feature by using the <code>-x</code> flag</p>
<p>The structure is as follows:</p>
<p>We got a base dir which is <code>/etc/kairos-init/stage-extensions</code> (this is the default, but you can override it using the <code>KAIROS_INIT_STAGE_EXTENSIONS_DIR</code> env var)</p>
<p>You can drop your custom <a href="https://github.com/mudler/yip" target="_blank" rel="noopener noreferrer" class="">yip files</a> and as usual, they will be loaded and executed in lexicographic order.</p>
<p>So for example, if we have:</p>
<ul>
<li class="">/etc/kairos-init/stage-extensions/10-foo.yaml</li>
<li class="">/etc/kairos-init/stage-extensions/20-bar.yaml</li>
<li class="">/etc/kairos-init/stage-extensions/30-baz.yaml</li>
</ul>
<p>The files will be loaded in the following order:</p>
<ul>
<li class="">10-foo.yaml</li>
<li class="">20-bar.yaml</li>
<li class="">30-baz.yaml</li>
</ul>
<p>The files are loaded using the yip library, so you can use all the features of <a href="https://github.com/mudler/yip" target="_blank" rel="noopener noreferrer" class="">yip</a> to expand the stages.</p>
<p>The current stages available are:</p>
<ul>
<li class="">before-install: Good for adding extra repos and such.</li>
<li class="">install: Good for installing packages and such.</li>
<li class="">after-install: Do some cleanup of packages, add extra packages, add different kernels and remove the kairos default one, etc.</li>
<li class="">before-init: Good for adding some dracut modules for example to be added to the initramfs.</li>
<li class="">init: Anything that configures the system, security hardening for example.</li>
<li class="">after-init: Good for rebuilding the initramfs, or adding a different initramfs like a kdump one, add grub configs or branding, etc.</li>
</ul>
<p>So for example, if we were to add an extra repo for zfs and install the package we could do the following:</p>
<p><code>/etc/kairos-init/stage-extensions/10-zfs.yaml</code></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">stages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">after-install</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">files</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /etc/apt/sources.list.d/zfs.list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">permissions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0644</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">owner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">content</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">            deb http://deb.debian.org/debian bookworm-backports main contrib</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">            deb-src http://deb.debian.org/debian bookworm-backports main contrib</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">packages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">install</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;zfs-dkms&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;zfsutils-linux&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">refresh</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<p>This would run the <code>before-install</code> and <code>install</code> stages as normal, but then on the <code>after-install</code> stage it would add the zfs repo and install the zfs packages.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="validation">Validation<a href="#validation" class="hash-link" aria-label="Direct link to Validation" title="Direct link to Validation" translate="no">â€‹</a></h2>
<p>You can validate the image you built using the <code>kairos-init validate</code> command inside the image. This will check if the image is valid and if it has all the necessary components to run Kairos.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="building-rhel-images">Building RHEL images<a href="#building-rhel-images" class="hash-link" aria-label="Direct link to Building RHEL images" title="Direct link to Building RHEL images" translate="no">â€‹</a></h2>
<p>Before running <code>kairos-init</code>, you need to register the system with the subscription manager and attach a subscription to it. You can do this by modifying the Dockerfile to register the system before running <code>kairos-init</code>:</p>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM quay.io/kairos/kairos-init:latest AS kairos-init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM redhat/ubi9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN subscription-manager register --username &lt;your-username&gt; --password &lt;your-password&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples" translate="no">â€‹</a></h2>
<p>All the examples are using the <a href="https://github.com/kairos-io/kairos/blob/master/images/Dockerfile" target="_blank" rel="noopener noreferrer" class="">kairos default dockerfile</a> as the base Dockerfile and its reproduced below:</p>
<p>See the <a href="https://raw.githubusercontent.com/kairos-io/kairos/refs/heads/master/images/Dockerfile" target="_blank" rel="noopener noreferrer" class="">Kairos Dockerfile</a> for the full implementation.</p>
<p>You can see more examples in the <a href="https://github.com/kairos-io/kairos/tree/master/examples" target="_blank" rel="noopener noreferrer" class="">Kairos repo</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="build-rpi4-k3s-oci-artifacts-arm64-platform">Build rpi4 k3s oci artifacts (arm64 platform)<a href="#build-rpi4-k3s-oci-artifacts-arm64-platform" class="hash-link" aria-label="Direct link to Build rpi4 k3s oci artifacts (arm64 platform)" title="Direct link to Build rpi4 k3s oci artifacts (arm64 platform)" translate="no">â€‹</a></h3>
<p>Based on Alpine 3.19:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker build --platform=linux/arm64 -t alpine-rpi:3.19 --build-arg MODEL=rpi4 --build-arg BASE_IMAGE=alpine:3.19 --build-arg VERSION=v1.0.0 .</span><br></span></code></pre></div></div>
<p>Based on Ubuntu 22.04:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker build --platform=linux/arm64 -t ubuntu-rpi:22.04 --build-arg MODEL=rpi4 --build-arg BASE_IMAGE=ubuntu:22.04 --build-arg VERSION=v1.0.0 .</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="add-a-specific-kernel-to-ubuntu-2404-amd64-platform">Add a specific kernel to ubuntu 24.04 (amd64 platform)<a href="#add-a-specific-kernel-to-ubuntu-2404-amd64-platform" class="hash-link" aria-label="Direct link to Add a specific kernel to ubuntu 24.04 (amd64 platform)" title="Direct link to Add a specific kernel to ubuntu 24.04 (amd64 platform)" translate="no">â€‹</a></h3>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM quay.io/kairos/kairos-init:latest AS kairos-init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM ubuntu:24.04</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init -l debug -s install --version &quot;v0.0.1&quot; --skip-steps installKernel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install Smaller virtual kernel, useful for testing things in VMS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN apt-get install -y linux-image-virtual</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run the init phase as normal, it will find the new kernel and link it + generate initrd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN --mount=type=bind,from=kairos-init,src=/kairos-init,dst=/kairos-init /kairos-init -l debug -s init --version &quot;v0.0.1&quot;</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker build -t ubuntu-kairos-virtual:24.04 .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] Building 106.1s (13/13) FINISHED                                                     docker:default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load build definition from Dockerfile                                               0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; transferring dockerfile: 629B                                                               0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load metadata for docker.io/library/ubuntu:24.04                                    0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load metadata for quay.io/kairos/kairos-init:v0.5.0                                 0.2s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load .dockerignore                                                                  0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; transferring context: 2B                                                                    0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; CACHED [kairos-init 1/1] FROM quay.io/kairos/kairos-init:v0.5.0@sha256:8d6a0000b6dfcf905eceeb  0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [stage-1 1/7] FROM docker.io/library/ubuntu:24.04                                              0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; CACHED [stage-1 2/7] COPY --from=kairos-init /kairos-init /kairos-init                         0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [stage-1 3/7] RUN /kairos-init -l debug -s install --version &quot;v0.0.1&quot;                         74.8s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [stage-1 4/7] RUN apt-get remove -y linux-base linux-image-generic-hwe-24.04 &amp;&amp; apt-get autor  2.3s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [stage-1 5/7] RUN apt-get install -y linux-image-virtual                                       8.3s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [stage-1 6/7] RUN /kairos-init -l debug -s init --version &quot;v0.0.1&quot;                            17.9s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [stage-1 7/7] RUN rm /kairos-init                                                              0.1s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; exporting to image                                                                             2.6s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; exporting layers                                                                            2.6s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; writing image sha256:94a792dad87629860094820860d68e8d0587bd758d537835d9c5ae7c476af71c       0.0s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; naming to docker.io/library/ubuntu-kairos-virtual:24.04</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="build-trusted-boot-images-core-and-standard">Build Trusted Boot images (core and standard)<a href="#build-trusted-boot-images-core-and-standard" class="hash-link" aria-label="Direct link to Build Trusted Boot images (core and standard)" title="Direct link to Build Trusted Boot images (core and standard)" translate="no">â€‹</a></h2>
<p>Core:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker build -t ubuntu-kairos-trusted-core:24.04 --build-arg BASE_IMAGE=ubuntu:24.04 --build-arg TRUSTED_BOOT=true --build-arg VERSION=v1.0.0 .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] Building 64.0s (12/12) FINISHED                                                      docker:default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load build definition from Dockerfile                                               0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; transferring dockerfile: 717B                                                               0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load metadata for docker.io/library/ubuntu:24.04                                    0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load metadata for quay.io/kairos/kairos-init:v0.5.0                                 0.6s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load .dockerignore                                                                  0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; transferring context: 2B                                                                    0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; CACHED [kairos-init 1/1] FROM quay.io/kairos/kairos-init:v0.5.0@sha256:8d6a0000b6dfcf905eceeb  0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [base-kairos 1/6] FROM docker.io/library/ubuntu:24.04                                          0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; CACHED [base-kairos 2/6] COPY --from=kairos-init /kairos-init /kairos-init                     0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [base-kairos 3/6] RUN /kairos-init -l debug -s install -m &quot;generic&quot; -t &quot;true&quot; -k &quot;${KUBERNET  58.3s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [base-kairos 4/6] RUN /kairos-init -l debug -s init -m &quot;generic&quot; -t &quot;true&quot; -k &quot;${KUBERNETES_D  2.5s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [base-kairos 5/6] RUN /kairos-init validate -t &quot;true&quot;                                          0.2s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [base-kairos 6/6] RUN rm /kairos-init                                                          0.1s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; exporting to image                                                                             2.3s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; exporting layers                                                                            2.3s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; writing image sha256:5ca83ab1eaa4b16210e243f6f9b30e7721e2be0d55b47ae4bd178939e5a44d0f       0.0s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; naming to docker.io/library/ubuntu-kairos-trusted-core:24.04                                0.0s</span><br></span></code></pre></div></div>
<p>Standard, default latest k3s:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker build -t ubuntu-kairos-trusted-standard:24.04 --build-arg BASE_IMAGE=ubuntu:24.04 --build-arg TRUSTED_BOOT=true --build-arg VERSION=v1.0.0 --build-arg KUBERNETES_DISTRO=k3s .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] Building 51.4s (12/12) FINISHED                                                      docker:default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load build definition from Dockerfile                                               0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; transferring dockerfile: 717B                                                               0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load metadata for docker.io/library/ubuntu:24.04                                    0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load metadata for quay.io/kairos/kairos-init:v0.5.0                                 0.4s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [internal] load .dockerignore                                                                  0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; transferring context: 2B                                                                    0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; CACHED [kairos-init 1/1] FROM quay.io/kairos/kairos-init:v0.5.0@sha256:8d6a0000b6dfcf905eceeb  0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [base-kairos 1/6] FROM docker.io/library/ubuntu:24.04                                          0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; CACHED [base-kairos 2/6] COPY --from=kairos-init /kairos-init /kairos-init                     0.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [base-kairos 3/6] RUN /kairos-init -l debug -s install -m &quot;generic&quot; -t &quot;true&quot; -k &quot;k3s&quot; --k8s  45.0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [base-kairos 4/6] RUN /kairos-init -l debug -s init -m &quot;generic&quot; -t &quot;true&quot; -k &quot;k3s&quot; --k8svers  3.1s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [base-kairos 5/6] RUN /kairos-init validate -t &quot;true&quot;                                          0.2s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; [base-kairos 6/6] RUN rm /kairos-init                                                          0.1s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; exporting to image                                                                             2.5s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; exporting layers                                                                            2.5s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; writing image sha256:019237bde8a0a8b5cccf328c86aa2e4090525dadc4037ab6397272454dfd5e55       0.0s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; =&gt; naming to docker.io/library/ubuntu-kairos-trusted-standard:24.04                            0.0s</span><br></span></code></pre></div></div>
<p>Now lets build a Trusted Boot ISO from the standard image:
Note that for Trusted Boot builds we need to pass the keys dir, please refer to Trusted Boot docs for more info about this.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v $PWD/e2e/assets/keys:/keys \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v $PWD/build/:/output \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  quay.io/kairos/auroraboot:latest build-uki --output-dir /output/ -k /keys --output-type iso \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  docker:ubuntu-kairos-trusted-standard:24.04                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:54:41Z INF Extracting image to a temporary directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:54:41Z INF Copying ubuntu-kairos-trusted-standard:24.04 source to /tmp/auroraboot-build-uki-1771870410</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:54:44Z INF Finished copying ubuntu-kairos-trusted-standard:24.04 into /tmp/auroraboot-build-uki-1771870410</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:54:44Z INF Creating additional directories in the rootfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:54:44Z INF Copying kernel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:54:44Z INF Creating an initramfs file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`2025-02-27T14:55:09Z INF Running ukify for cmdline: Kairos: console=ttyS0 console=tty1 net.ifnames=1 rd.immucore.oemlabel=COS_OEM rd.immucore.oemtimeout=2 rd.immucore.uki selinux=0 panic=5 rd.shell=0 systemd.crash_reboot=yes install-mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:09Z INF Generating: norole.efi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:12Z INF Creating kairos and loader conf files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:12Z INF Calculating the size of the img file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:12Z INF Creating the img file with size: 434Mb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:13Z INF Created image: /tmp/auroraboot-iso-dir-805355778/efiboot.img</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:13Z INF Creating directories in the img file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:13Z INF Copying files in the img file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:13Z INF Adding files from /tmp/auroraboot-build-uki-1771870410 to iso</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:13Z INF Copying /tmp/auroraboot-build-uki-1771870410 source to /tmp/auroraboot-iso-dir-805355778</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:13Z INF Starting rsync...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:14Z INF Finished syncing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:14Z INF Finished copying /tmp/auroraboot-build-uki-1771870410 into /tmp/auroraboot-iso-dir-805355778</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:14Z INF Creating the iso files with xorriso</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-02-27T14:55:15Z INF Done building iso at: /output/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="github-actions-integration">GitHub Actions Integration<a href="#github-actions-integration" class="hash-link" aria-label="Direct link to GitHub Actions Integration" title="Direct link to GitHub Actions Integration" translate="no">â€‹</a></h2>
<p>For users who prefer to automate their Kairos image builds using GitHub Actions, the <a href="https://github.com/kairos-io/kairos-factory-action" target="_blank" rel="noopener noreferrer" class="">Kairos Factory Action</a> provides a reusable workflow that simplifies the build process.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-the-kairos-factory-action">What is the Kairos Factory Action?<a href="#what-is-the-kairos-factory-action" class="hash-link" aria-label="Direct link to What is the Kairos Factory Action?" title="Direct link to What is the Kairos Factory Action?" translate="no">â€‹</a></h3>
<p>The Kairos Factory Action is a GitHub Actions reusable workflow that automates the entire Kairos image building process. It handles:</p>
<ul>
<li class=""><strong>Multi-platform builds</strong>: Support for <code>amd64</code> and <code>arm64</code> architectures</li>
<li class=""><strong>Multiple base images</strong>: Ubuntu, OpenSUSE, and other distributions</li>
<li class=""><strong>Kubernetes integration</strong>: Built-in support for K3s and K0s distributions</li>
<li class=""><strong>Artifact generation</strong>: Create ISO and RAW disk images</li>
<li class=""><strong>Security scanning</strong>: Integrated Grype and Trivy vulnerability scanning</li>
<li class=""><strong>Digital signing</strong>: Cosign integration for artifact signing</li>
<li class=""><strong>Trusted boot</strong>: Support for UKI/USI (Unified Kernel/System Image) builds</li>
<li class=""><strong>Registry publishing</strong>: Push to any container registry</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="basic-usage-example">Basic Usage Example<a href="#basic-usage-example" class="hash-link" aria-label="Direct link to Basic Usage Example" title="Direct link to Basic Usage Example" translate="no">â€‹</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kairos</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">io/kairos</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">factory</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">action/.github/workflows/reusable</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">factory.yaml@main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v1.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">base_image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ubuntu:24.04&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">model</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;generic&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">kubernetes_distro</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;k3s&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">iso</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">summary_artifacts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<p>This example builds a Kairos image based on Ubuntu 24.04 with K3s, generates an ISO artifact, and provides a rich build summary with artifact links.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-features">Key Features<a href="#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features" translate="no">â€‹</a></h3>
<ul>
<li class=""><strong>Flexible versioning</strong>: Automatic git-based versioning or manual semver</li>
<li class=""><strong>Security-focused</strong>: Optional vulnerability scanning and digital signing</li>
<li class=""><strong>Custom naming</strong>: Flexible tag and artifact naming formats</li>
<li class=""><strong>Cloud config support</strong>: Integration with cloud-init configurations</li>
<li class=""><strong>GitHub integration</strong>: Rich build summaries and optional release creation</li>
</ul>
<p>For complete documentation, configuration options, and advanced examples, visit the <a href="https://github.com/kairos-io/kairos-factory-action" target="_blank" rel="noopener noreferrer" class="">Kairos Factory Action repository</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="web-ui">Web UI<a href="#web-ui" class="hash-link" aria-label="Direct link to Web UI" title="Direct link to Web UI" translate="no">â€‹</a></h2>
<p>The Kairos Factory is also available as a web UI, which is currently under development but you can already preview since version <code>0.6.0</code> of <a class="" href="/kairos-docs/docs/next/Reference/auroraboot">AuroraBoot</a>.</p>
<p>To use the web UI, you need to run the AuroraBoot with the <code>web</code> command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           --privileged \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           -v $PWD/build/:/output \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           -p 8080:8080 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           quay.io/kairos/auroraboot:latest web</span><br></span></code></pre></div></div>
<p>If the process is successful, you will see the following output:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   ____    __</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  / __/___/ /  ___</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> / _// __/ _ \/ _ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/___/\__/_//_/\___/ v4.13.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">High performance, minimalist Go web framework</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://echo.labstack.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">____________________________________O/_______</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    O\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â‡¨ http server started on [::]:8080</span><br></span></code></pre></div></div>
<p>From there you can access the web UI by visiting <code>http://localhost:8080</code> in your browser.</p>
<img src="https://github.com/user-attachments/assets/685e85b4-9559-48c6-973c-221b43883baa" alt="Kairos Web UI running on localhost:8080" width="75%">
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="factory-api">Factory API<a href="#factory-api" class="hash-link" aria-label="Direct link to Factory API" title="Direct link to Factory API" translate="no">â€‹</a></h2>
<p>The Kairos Factory exposes a REST API that allows you to programmatically interact with the factory. The API documentation is available through a <a href="https://github.com/Redocly/redoc" target="_blank" rel="noopener noreferrer" class="">ReDoc</a> page that is served alongside the web UI.</p>
<p>To access the API documentation, simply visit <code>http://localhost:8080/redoc.html</code> in your browser after starting the web server. The ReDoc page provides detailed information about:</p>
<ul>
<li class="">Available API endpoints</li>
<li class="">Request/response formats</li>
<li class="">Example requests and responses</li>
</ul>
<p>This documentation is automatically generated from the OpenAPI/Swagger specifications and is kept up-to-date with the latest API changes.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/kairos-io/kairos-docs/tree/main/docs/Reference/kairos-factory.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-12-06T17:56:03.000Z" itemprop="dateModified">Dec 6, 2025</time></b> by <b>Jasper De Keukelaere (imec)</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/kairos-docs/docs/next/Reference/stage_modules"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Stage modules</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/kairos-docs/docs/next/Reference/reset"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Reset</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-kairos-factory-process" class="table-of-contents__link toc-highlight">The Kairos Factory Process</a></li><li><a href="#what-is-kairos-init" class="table-of-contents__link toc-highlight">What is Kairos-init?</a></li><li><a href="#how-to-use" class="table-of-contents__link toc-highlight">How to use</a></li><li><a href="#why-the-version-matters" class="table-of-contents__link toc-highlight">Why the Version Matters</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#phases" class="table-of-contents__link toc-highlight">Phases</a></li><li><a href="#skipping-steps-and-stages" class="table-of-contents__link toc-highlight">Skipping steps and stages</a></li><li><a href="#extending-stages-with-custom-actions" class="table-of-contents__link toc-highlight">Extending stages with custom actions</a></li><li><a href="#validation" class="table-of-contents__link toc-highlight">Validation</a></li><li><a href="#building-rhel-images" class="table-of-contents__link toc-highlight">Building RHEL images</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href="#build-rpi4-k3s-oci-artifacts-arm64-platform" class="table-of-contents__link toc-highlight">Build rpi4 k3s oci artifacts (arm64 platform)</a></li><li><a href="#add-a-specific-kernel-to-ubuntu-2404-amd64-platform" class="table-of-contents__link toc-highlight">Add a specific kernel to ubuntu 24.04 (amd64 platform)</a></li></ul></li><li><a href="#build-trusted-boot-images-core-and-standard" class="table-of-contents__link toc-highlight">Build Trusted Boot images (core and standard)</a></li><li><a href="#github-actions-integration" class="table-of-contents__link toc-highlight">GitHub Actions Integration</a><ul><li><a href="#what-is-the-kairos-factory-action" class="table-of-contents__link toc-highlight">What is the Kairos Factory Action?</a></li><li><a href="#basic-usage-example" class="table-of-contents__link toc-highlight">Basic Usage Example</a></li><li><a href="#key-features" class="table-of-contents__link toc-highlight">Key Features</a></li></ul></li><li><a href="#web-ui" class="table-of-contents__link toc-highlight">Web UI</a></li><li><a href="#factory-api" class="table-of-contents__link toc-highlight">Factory API</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/kairos-docs/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/kairos-docs/docs/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/kairos-docs/docs/architecture">Architecture</a></li><li class="footer__item"><a class="footer__link-item" href="/kairos-docs/docs/examples">Examples</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://slack.cncf.io/#kairos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/kairos-io/kairos/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/kairos-oss/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/Kairos_OSS" target="_blank" rel="noopener noreferrer" class="footer__link-item">X (Twitter)<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/kairos-docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/kairos-io/kairos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.spectrocloud.com/solutions/kairos-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Commercial Support<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Kairos authors</div></div></div></footer></div>
</body>
</html>